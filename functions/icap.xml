 <reference id="ref.icap">
  <title>ICAP 関数</title>
  <titleabbrev>ICAP</titleabbrev>

  <partintro>
   <simpara>
    これらの関数を動作させるためには、PHP を
    <option role="configure">--with-icap</option> を付けてコンパイル
    する必要があります。
    この際、icap ライブラリがインストールされている必要があります。
    <ulink url="&url.icap;">&url.icap;</ulink> より
    最新版を入手し、コンパイル、インストールしてください。
   </simpara>
  </partintro>

  <refentry id="function.icap-open">
   <refnamediv>
    <refname>icap_open</refname>
    <refpurpose>ICAP 接続をオープンする</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>stream <function>icap_open</function></funcdef>
     <paramdef>string<parameter>calendar</parameter></paramdef>
     <paramdef>string<parameter>username</parameter></paramdef>
     <paramdef>string<parameter>password</parameter></paramdef>
     <paramdef>string<parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
    成功時に ICAP ストリーム、エラー時に false を返します。</para>
    <para>
     <function>icap_open</function> は、指定した
     <parameter>calendar</parameter> 保存ファイルへの ICAP 接続を
     オープンします。
     オプション <parameter>options</parameter> が指定された場合、
     <parameter>options</parameter> もメールボックスに渡されます。</para>
    <para></para>
   </refsect1>
  </refentry>


  <refentry id="function.icap-close">
   <refnamediv>
    <refname>icap_close</refname>
    <refpurpose>ICAP ストリームを閉じる</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>icap_close</function></funcdef>
     <paramdef>int <parameter>icap_stream</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para> 
     指定した ICAP ストリームを閉じます。</para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-fetch-event">
   <refnamediv>
    <refname>icap_fetch_event</refname>
    <refpurpose>カレンダーストリームからイベントを取得する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>object<function>icap_fetch_event</function></funcdef>
     <paramdef>stream<parameter>icap_stream</parameter></paramdef>
     <paramdef>id<parameter>event id</parameter></paramdef>
     <paramdef>options<parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>icap_fetch_event</function> は、
     <parameter>id</parameter> で指定されたカレンダーストリームから
     イベントを取得します。</para>
    <para>
    以下の要素からなるイベントオブジェクトを返します。

     <itemizedlist>
      <listitem><simpara>
	int id - イベント ID </simpara></listitem>
      <listitem><simpara>
	int public - イベントが public な場合は TRUE、private な場合は FALSE</simpara></listitem>
      <listitem><simpara>
	string category - イベントのカテゴリを表す文字列</simpara></listitem>
      <listitem><simpara>
	string title - イベントのタイトルを表す文字列</simpara></listitem>
      <listitem><simpara>
	string description - イベントの内容を表す文字列</simpara></listitem>
      <listitem><simpara>
	int alarm - アラーム・リマインダイベントが送られるまでの分単位の時間</simpara></listitem>
      <listitem><simpara>
	object start - datetime エントリを有するオブジェクト</simpara></listitem>
      <listitem><simpara>
	object end - datetime エントリを有するオブジェクト</simpara></listitem>
     </itemizedlist>

     全ての datetime エントリは、次の要素を有するオブジェクトから
     構成されます。
     <itemizedlist>
      <listitem><simpara>
	int year - 年</simpara></listitem>
      <listitem><simpara>
	int month - 月</simpara></listitem>
      <listitem><simpara>
	int mday  - 日</simpara></listitem>
      <listitem><simpara>
	int hour  - 時間</simpara></listitem>
      <listitem><simpara>
	int min   - 分</simpara></listitem>
      <listitem><simpara>
	int sec   - 秒</simpara></listitem>         
     </itemizedlist></para>
     
   </refsect1>
  </refentry>
  

  <refentry id="function.icap-list-events">
   <refnamediv>
    <refname>icap_list_events</refname>

    <refpurpose>指定した二つの datetime 間のイベントのリストを返す
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_events</function></funcdef>
     <paramdef>stream <parameter>icap_stream</parameter></paramdef>
     <paramdef>datetime <parameter>begin_date</parameter></paramdef>
     <paramdef>datetime <parameter>end_date</parameter></paramdef>
    </funcsynopsis>
    <para>
    指定した二つのイベント間のイベントのIDの配列を返します。</para>
    <para> 
     <function>icap_list_events</function> 関数は、
     指定したカレンダーストリームにおいて
     開始時の datetime と終了時の datetime を引数とします。
     指定した datetime の間のイベントのIDの配列が返されます。</para>
    <para>
     datetime の全エントリは、次の要素を有するオブジェクトから
     構成されます。
     <itemizedlist>
      <listitem><simpara>
	int year - 年</simpara></listitem>
      <listitem><simpara>
	int month - 月</simpara></listitem>
      <listitem><simpara>
	int mday  - 日</simpara></listitem>
      <listitem><simpara>
	int hour  - 時間</simpara></listitem>
      <listitem><simpara>
	int min   - 分</simpara></listitem>
      <listitem><simpara>
	int sec   - 秒</simpara></listitem>      
     </itemizedlist></para>
     
   </refsect1>
  </refentry>


  <refentry id="function.icap-store-event">
   <refnamediv>
    <refname>icap_store_event</refname>
    <refpurpose>ICAP カレンダーにイベントを保存します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>icap_store_event</function></funcdef>
     <paramdef>int <parameter>icap_stream</parameter></paramdef>
     <paramdef>object <parameter>event</parameter></paramdef>
    </funcsynopsis>
    <para> 
     <function>icap_store_event</function> は、ICAP カレンダーに
     イベントを保存します。
     event オブジェクトは、以下の要素からなります。

     <itemizedlist>
      <listitem><simpara>
	int public - public の場合は 1、private の場合は 0</simpara></listitem>      
      <listitem><simpara>
	string caegory - イベントのカテゴリを表す文字列</simpara></listitem>      
      <listitem><simpara>
	string title - イベントのタイトルを表す文字列</simpara></listitem>      
      <listitem><simpara>
	string description - イベントの内容を表す文字列</simpara></listitem>      
      <listitem><simpara>
	int alarm - アラームが送信されるまでの分単位の時間</simpara></listitem>      
      <listitem><simpara>
	datetime start - イベントの開始時を表す datetime オブジェクト</simpara></listitem>      
      <listitem><simpara>
	datetime end - イベントの終了時を表す datetime オブジェクト</simpara></listitem>      
     </itemizedlist></para>

    <para>
     datetime の全エントリは、次の要素を有するオブジェクトから
     構成されます。
     <itemizedlist>
      <listitem><simpara>
	int year - 年</simpara></listitem>      
      <listitem><simpara>
	int month - 月</simpara></listitem>      
      <listitem><simpara>
	int mday  - 日</simpara></listitem>      
      <listitem><simpara>
	int hour  - 時間</simpara></listitem>      
      <listitem><simpara>
	int min   - 分</simpara></listitem>      
      <listitem><simpara>
	int sec   - 秒</simpara></listitem>               
     </itemizedlist></para>

    <para>
    成功時にtrue、エラー時にfalseを返します。</para>
     <para></para>
   </refsect1>
  </refentry>

  
  <refentry id="function.icap-delete-event">
   <refnamediv>
    <refname>icap_delete_event</refname>
    <refpurpose>ICAP カレンダーからイベントを削除する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>icap_delete_event</function></funcdef>
     <paramdef>int <parameter>uid</parameter></paramdef>
    </funcsynopsis>
    <para> 
     <function>icap_delete_event</function> は uid で指定されたカレンダー
     イベントを削除します。</para>
    <para>
     true を返します。</para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-snooze">
   <refnamediv>
    <refname>icap_snooze</refname>
    <refpurpose>イベントのアラームをオフにする</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>icap_snooze</function></funcdef>
     <paramdef>int <parameter>uid</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>icap_snooze</function> は uid で指定したカレンダーイベントの
     アラームをオフにします。</para>
    <para>
     true を返します。</para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-list-alarms">
   <refnamediv>
    <refname>icap_list_alarms</refname>
    <refpurpose>
    指定した datetime までにアラームを発生するイベントのリストを返す
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_alarms</function></funcdef>
     <paramdef>stream <parameter>icap_stream</parameter></paramdef>
     <paramdef>datetime <parameter>alarm_date</parameter></paramdef>
    </funcsynopsis>
    <para>
    datetime で指定した時刻までにアラームがオフとなるイベントのIDの配列を
    返します。</para>
    <para> 
     <function>icap_list_alarms</function> 関数は、
     指定したカレンダーストリームに関する datetime を引数とします。
     その datetime までにアラームがオフとなるイベントのIDの配列が返されます。</para>
    <para>
    datetime の全エントリは、以下を要素とするオブジェクトからなります。
     <itemizedlist>
      <listitem><simpara>
	int year - 年</simpara></listitem>
      <listitem><simpara>
	int month - 月</simpara></listitem>
      <listitem><simpara>
	int mday - 日</simpara></listitem>
      <listitem><simpara>
	int hour - 時間</simpara></listitem>
      <listitem><simpara>
	int min - 分</simpara></listitem>
     <listitem><simpara>
	int sec - 秒</simpara></listitem>
     </itemizedlist></para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
