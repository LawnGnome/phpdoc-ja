 <reference id="ref.apache">
  <title>Apache用関数</title>
  <titleabbrev>Apache</titleabbrev>

  <refentry id="function.apache-lookup-uri">
   <refnamediv>
    <refname>apache_lookup_uri</refname>
    <refpurpose>
     リクエストの一部を指定したURIに対して行い、全ての情報を返す
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>class <function>apache_lookup_uri</function></funcdef>
      <paramdef>string <parameter>filename</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     この関数は、URIにリクエストの一部を行います。このリクエストは指定した
     リソースに関する全ての重要な情報を得るのに十分なものです。
     この情報はクラスとして返されます。返されるクラスのプロパティは
     次のようなものです。
     <simplelist>
      <member>status</member>
      <member>the_request</member>
      <member>status_line</member>
      <member>method</member>
      <member>content_type</member>
      <member>handler</member>
      <member>uri</member>
      <member>filename</member>
      <member>path_info</member>
      <member>args</member>
      <member>boundary</member>
      <member>no_cache</member>
      <member>no_local_copy</member>
      <member>allowed</member>
      <member>send_bodyct</member>
      <member>bytes_sent</member>
      <member>byterange</member>
      <member>clength</member>
      <member>unparsed_uri</member>
      <member>mtime</member>
      <member>request_time</member>
     </simplelist>
    </para>
    <note>
     <simpara>
      <function>apache_lookup_uri</function>は、PHPがApacheモジュールとして
      インストールされている場合のみ動作します。
     </simpara>
    </note>
   </refsect1>
  </refentry>

  <refentry id="function.apache-note">
   <refnamediv>
    <refname>apache_note</refname>
    <refpurpose>Apacheリクエスト記号(note)を取得/設定する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>apache_note</function></funcdef>
      <paramdef>string <parameter>note_name</parameter></paramdef>
      <paramdef>string 
       <parameter>
        <replaceable><optional>note_value</optional></replaceable>
       </parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>apache_note</function>はApache用関数であり、
     リクエストの<literal>notes</literal>テーブルから値を得たり、
     値を設定します。引数が1つだけ指定されてコールされた場合、
     現在の記号の値<literal>note_name</literal>が返されます。
     引数が2つ指定されてコールされた場合、記号<literal>note_name</literal>
     の値を<literal>note_value</literal>にセットし、前の記号
     <literal>note_name</literal>の値を返します。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.getallheaders">
   <refnamediv>
    <refname>getallheaders</refname>
    <refpurpose>全てのHTTPリクエストヘッダを取り出します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>array <function>getallheaders</function></funcdef>
      <void/>
     </funcprototype>
    </funcsynopsis>
    <para>
     この関数は、現在のリクエストにおける全てのHTTPヘッダーを
     有する連想配列を返します。
     <note>
      <para>
       環境変数から読みこむことにより、CGI変数の値を得ることも可能です。
       この方法は、PHPをApacheモジュールとして使用しているかどうかに
       よらず動作します。定義された全ての環境変数の一覧を得るには、
       <function>phpinfo</function>を使用してください。
      </para>
     </note>
     <example>
      <title><function>getallheaders</function>の例</title>
      <programlisting role="php">
$headers = getallheaders();
while (list($header, $value) = each ($headers)) {
    echo "$header: $value&lt;br&gt;\n";
}
      </programlisting>
     </example>
     この例は、現在のリクエストに関して全てのリクエストヘッダを
     表示します。
     <note>
      <simpara>
       <function>getallheaders</function>は、現在、PHPが
       <productname>Apache</productname>モジュールとして実行されている
       場合にのみサポートされています。
      </simpara>
     </note>
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.virtual">
   <refnamediv>
    <refname>virtual</refname>
    <refpurpose>Apache サブリクエストを実行します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>virtual</function></funcdef>
      <paramdef>string <parameter>filename</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>virtual</function>は、mod_include の
     &lt;!--#include virtual...--&gt; と等価なApache用関数です。
     この関数は、Apacheサブリクエストを実行します。
     CGIスクリプトまたは .shtml ファイル、Apacheを通して解釈を行う
     他のものがある場合にこの関数は有用です。
     CGIスクリプトの場合、そのスクリプトは、有効なCGIヘッダを生成する
     必要があることに注意して下さい。
     最低でも、Content-type ヘッダーを生成する必要があります。
     PHPファイルに関しては、
     <function>include</function>または
     <function>require</function>を使用する必要があります。
     <function>virtual</function>は、PHPファイル自体を読みこむ
     際には使用できません。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ascii2ebcdic">
   <refnamediv>
    <refname>ascii2ebcdic</refname>
    <refpurpose>ASCIIからEBCDICに文字列を変換する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ascii2ebcdic</function></funcdef>
      <paramdef>string <parameter>ascii_str</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>ASCII2EBCDIC</function> は、EBCDICベースのオペレーティ
     ングシステム(OS/390, BS2000)でのみ利用可能なApache専用関数です。
     この関数は、ASCIIエンコードされた文字列
     <parameter>ascii_str</parameter>を等価なEBCDIC表現(バイナリセーフ)
     に変換し、結果を文字列として返します。
    </para>
    <para>
     逆関数 <function>EBCDIC2ASCII</function> も参照下さい。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.ebcdic2ascii">
   <refnamediv>
    <refname>ebcdic2ascii</refname>
    <refpurpose>EBCDIC から ASCII に文字列を変換する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>ebcdic2ascii</function></funcdef>
      <paramdef>string <parameter>ebcdic_str</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>EBCDIC2ASCII</function> は、EBCDICベースのオペレーティ
     ングシステム(OS/390, BS2000)でのみ利用可能なApache専用関数です。
     この関数は、EBCDICエンコードされた文字列
     <parameter>ebcdic_str</parameter>を等価なEBCDIC表現(バイナリセーフ)
     に変換し、結果を文字列として返します。
    </para>
    <para>
     逆関数<function>ASCII2EBCDIC</function> も参照可能です。
    </para>
   </refsect1>
  </refentry>

  </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
