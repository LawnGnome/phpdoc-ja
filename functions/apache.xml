 <reference id="ref.apache">
  <title>Apache 専用関数</title>
  <titleabbrev>Apache</titleabbrev>

  <refentry id="function.apache-lookup-uri">
   <refnamediv>
    <refname>apache_lookup_uri</refname>
    <refpurpose>リクエストの一部を指定した URI に対して行い、全ての情報を返します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>class <function>apache_lookup_uri</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
    この関数は、URI にリクエストの一部を行います。
    指定したリソースに関する全ての重要な情報を得るのに十分なものです。
    この情報はクラスとして返されます。
    返されるクラスのプロパティは次のようなものです。
	<simplelist>
	<member>status</member>
	<member>the_request</member>
	<member>status_line</member>
	<member>method</member>
	<member>content_type</member>
	<member>handler</member>
	<member>uri</member>
	<member>filename</member>
	<member>path_info</member>
	<member>args</member>
	<member>boundary</member>
	<member>no_cache</member>
	<member>no_local_copy</member>
	<member>allowed</member>
	<member>send_bodyct</member>
	<member>bytes_sent</member>
	<member>byterange</member>
	<member>clength</member>
	<member>unparsed_uri</member>
	<member>mtime</member>
	<member>request_time</member>
	</simplelist>
	</para>
	<note>
	<simpara>注意: apache_lookup_uri は、PHP が Apache モジュールとして
インストールされている場合のみ動作します。
	</simpara>
	</note>
   </refsect1>
  </refentry>

  <refentry id="function.apache-note">
   <refnamediv>
    <refname>apache_note</refname>
    <refpurpose>Apache リクエスト記号(note)を得るまたはセットします</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>apache_note</function></funcdef>
     <paramdef>string <parameter>note_name</parameter></paramdef>
     <paramdef>string <parameter><optional>note_value</optional></parameter></paramdef>
    </funcsynopsis>
    <para>
     <function>apache_note</function> は、
     リクエストの <literal>記号</literal> テーブル
     から値を得たり、セットしたりする Apache 専用関数です。
     引数が一つでコールされた場合、
     現在の記号の値 <literal>note_name</literal> が返されます。
     引数が二つでコールされた場合、
     記号 <literal>note_name</literal> の値を 
     <literal>note_value</literal> にセットし、前の記号
     <literal>note_name</literal> の値を返します。</para>
   </refsect1>
  </refentry>

  <refentry id="function.getallheaders">
   <refnamediv>
    <refname>getallheaders</refname>
    <refpurpose>全ての HTTP リクエストヘッダを取り出します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>array <function>getallheaders</function></funcdef>
     <void/>
    </funcsynopsis>
    <para>
    この関数は、現在のリクエストにおける全ての HTTP ヘッダーを
    有する連想配列を返します。
    <note>
     <para>
     環境変数から読みこむことにより、CGI変数の値を得ることも可能です。
     この方法は、PHPをApacheモジュールとして使用しているかどうかに
     よらず動作します。定義された全ての環境変数の一覧を得るには、
     <function>phpinfo</function> を使用してください。
     </para>
    </note>
     <example>
      <title>getallheaders() の例</title>
      <programlisting>
$headers = getallheaders();
while (list($header, $value) = each($headers)) {
    echo "$header: $value&lt;br&gt;\n";
}
</programlisting></example>
     この例は、現在のリクエストに関して全てのリクエストヘッダを
     表示します。
     <note>
      <simpara>
       <function>getallheaders</function> は、
       現在、PHP が <productname>Apache</productname> モジュールとして
       実行されている場合にのみサポートされています。
      </simpara>
     </note></para>
   </refsect1>
  </refentry>

  <refentry id="function.virtual">
   <refnamediv>
    <refname>virtual</refname>
    <refpurpose>Apache サブリクエストを実行します</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>virtual</function></funcdef>
     <paramdef>string <parameter>filename</parameter></paramdef>
    </funcsynopsis>
    <para>
	<function>virtual</function> は、mod_include の
    &lt;!--#include virtual...--&gt; と等価な Apache 専用関数です。
    この関数は、Apache サブリクエストを実行します。
    CGI スクリプトまたは .shtml ファイル、Apache を通して解釈を行う
    他のものがある場合にこの関数は有用です。
    CGI スクリプトの場合、そのスクリプトは、有効な CGI ヘッダを生成する
    必要があることに注意して下さい。
    最低でも、Content-type ヘッダーを生成する必要があります。
    PHP ファイルに関しては、
    <function>include</function> または
    <function>require</function> を使用する必要があります。
    <function>virtual</function> は、PHP ファイル自体を読みこむ
    際には使用できません。</para>
   </refsect1>
  </refentry>

  </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
