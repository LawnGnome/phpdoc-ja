 <reference id="ref.calendar">
  <title>カレンダー関数</title>
  <titleabbrev>カレンダー</titleabbrev>
  
  <partintro>
   <para>
    カレンダー関数は、dl/calendar にあるカレンダー拡張をコンパイルした
    場合にのみ利用可能です。使用法については、dl/READMEの指示を
    参照下さい。
   </para>
   <para>
    カレンダー関数は、異なったカレンダーフォーマット間の変換を
    簡単に行う関数の集まりです。標準としているのは、ユリウス積算日です。
    ユリウス積算日は、殆どの人が数える必要がある日よりも早い日
    (ほぼ紀元前4000年)から数え始めます。
    カレンダ－システム間の変換を行うには、 ユリウス積算日に変換した後に選択した
    カレンダ－システムに変換しなければなりません。
    ユリウス積算日はユリウス暦とは全く違います!
    カレンダ－システムに関する情報を知りたい場合は、
    <ulink url="&url.calendar;">&url.calendar;</ulink>を参照下さい。
    本説明にはこのページからの引用が含まれています。
   </para>
  </partintro>
  
  <refentry id="function.jdtogregorian">
   <refnamediv>
    <refname>JDToGregorian</refname>
    <refpurpose>ユリウス積算日をグレゴリウス日に変換する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>jdtogregorian</function></funcdef>
     <paramdef>int <parameter>julianday</parameter></paramdef>
    </funcsynopsis>
    <para>
     ユリウス積算日を "月/日/年" の形式でグレゴリウス日を含む
     文字列に変換します。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.gregoriantojd">
   <refnamediv>
    <refname>GregorianToJD</refname> 
    <refpurpose>
     グレゴリウス日をユリウス積算日に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>gregoriantojd</function></funcdef>
     <paramdef>int <parameter>month </parameter></paramdef>
     <paramdef>int <parameter>day </parameter></paramdef>
     <paramdef>int <parameter>year </parameter></paramdef>
    </funcsynopsis>
    <para>
     有効なグレゴリウス暦の範囲は紀元前4714年から紀元後9999年です。
    </para>
    <para>
     このソフトウェアは日付けを全て紀元前4714年に逆昇ることが
     出来ますが、この様な使い方は特に意味があるわけではありません。
     グレゴリウス暦は1582年10月15日(ユリウス暦では
     1582年10月5日)まで制定されていませんでした。
     この暦は、いくつかの国でもっと後まで受け入れられませんでした。
     例えば、イギリスは1752 年、ロシア(USSR)は1918 年、ギリシャは1923年に
     移行しました。  ほとんどのヨ－ロッパの国々では、グレゴリウス暦の前は
     ユリウス暦を使用していました。
     <example>
      <title>カレンダ－関数</title>
      <programlisting role="php">
&lt;?php
$jd = GregorianToJD (10,11,1970);
echo("$jd\n");
$gregorian = JDToGregorian ($jd);
echo("$gregorian\n");
?>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>
 
  <refentry id="function.jdtojulian">
   <refnamediv>
    <refname>JDToJulian</refname> 
    <refpurpose>
     ユリウス積算日をユリウス暦に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>jdtojulian</function></funcdef>
     <paramdef>int <parameter>julianday </parameter></paramdef>
    </funcsynopsis>
    <para>
     ユリウス積算日を "月/日/年" の形式でユリウス暦を含む文字列に変換します。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.juliantojd">
   <refnamediv>
    <refname>JulianToJD</refname> 
    <refpurpose>
     ユリウス暦をユリウス積算日に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>juliantojd</function></funcdef>
     <paramdef>int <parameter>month</parameter></paramdef>
     <paramdef>int <parameter>day</parameter></paramdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     ユリウス暦は紀元前4713年から紀元後9999年の範囲で使えます。
    </para>
    <para>
     このソフトウェアは日付けを全て紀元前 4713 年に逆昇って扱うことが
     出来ますが,この様な使い方はあまり意味があるわけではありません。
     このカレンダ－は紀元前 46 年に作られました、しかし細部は紀元後
     8年になるまで、おそらくは4世紀になるまで安定しませんでした。
     また、年の始まりを一つの文化のものから別の文化のものに変更すること、
     つまり、Januaryを最初の月とすることは全く受け入れられませんでした。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.jdtojewish">
   <refnamediv>
    <refname>JDToJewish</refname>
    <refpurpose>
     ユリウス積算日をユダヤ暦に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>jdtojewish</function></funcdef>
     <paramdef>int <parameter>julianday</parameter></paramdef>
    </funcsynopsis>
    <para>
     ユリウス積算日をユダヤ暦に変換します。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.jewishtojd">
   <refnamediv>
    <refname>JewishToJD</refname> 
    <refpurpose> 
     ユダヤ暦の日付けをユリウス積算日に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>jewishtojd</function></funcdef>
     <paramdef>int <parameter>month</parameter></paramdef>
     <paramdef>int <parameter>day</parameter></paramdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     このソフトウェアでは1年(紀元前3761年)に遡って全ての日々を扱うこと
     が出来ますが、この様な使い方は特に意味があるわけではありません。
    </para>
    <para>
     ユダヤ暦は数千年に渡って使われていますが、当初は月の
     始まりが決められていませんでいた。新しい月は新月が最初に観測
     された日に始まりました。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.jdtofrench">
   <refnamediv>
    <refname>JDToFrench</refname>
    <refpurpose>
     ユリウス積算日をフランス革命暦(共和暦)に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>jdtofrench</function></funcdef>
     <paramdef>int <parameter>month</parameter></paramdef>
     <paramdef>int <parameter>day</parameter></paramdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     ユリウス積算日をフランス革命暦に変換します。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.frenchtojd">
   <refnamediv>
    <refname>FrenchToJD</refname>
    <refpurpose>
     フランス革命暦をユリウス積算日に変換する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>frenchtojd</function></funcdef>
     <paramdef>int <parameter>month</parameter></paramdef>
     <paramdef>int <parameter>day</parameter></paramdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     日付けをフランス革命暦からユリウス積算日に変換します。
    </para>
    <para>
     これらのル－チンは、1から14年まで(グレゴリウス暦の1792年9月22日から
     1806年9月22日)日付けのみを変換します。
     この期間は、フランス革命暦が使用されていた期間を十分にカバーしています。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.jdmonthname">
   <refnamediv>
    <refname>JDMonthName</refname>
    <refpurpose>月の名前を返す</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>string <function>jdmonthname</function></funcdef>
     <paramdef>int <parameter>julianday</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcsynopsis>
    <para>
     月の名前を含んだ文字列を返します。
     <parameter>mode</parameter>はどの暦をユリウス積算日に変換するか、
     どんなタイプの月名を返すを関数に伝えます。
     <table>
      <title>暦モード</title>
      <tgroup cols="2">
       <thead>
	<row>
	 <entry>モード</entry>
	 <entry>意味</entry>
	</row>
       </thead>
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>グレゴリウス暦 - 省略形</entry>
	</row>
	<row>
	 <entry>1</entry>
	 <entry>グレゴリウス暦</entry>
	</row>
	<row>
	 <entry>2</entry>
	 <entry>ユリウス暦 - 省略形</entry>
	</row>
	<row>
	 <entry>3</entry>
	 <entry>ユリウス暦</entry>
	</row>
	<row>
	 <entry>4</entry>
	 <entry>ユダヤ暦</entry>
	</row>
	<row>
	 <entry>5</entry>
	 <entry>フランス革命暦</entry>
	</row>
       </tbody>
      </tgroup>
     </table>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.jddayofweek">
   <refnamediv>
    <refname>JDDayOfWeek</refname>
    <refpurpose>曜日を返す</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>mixed <function>jddayofweek</function></funcdef>
     <paramdef>int <parameter>julianday</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcsynopsis>
    <para>
     曜日を返します。
     モ－ドに依存した文字あるいは整数を返す事が出来ます。
     <table>
      <title>暦の曜日モード</title>
      <tgroup cols="2">
       <thead>
	<row>
	 <entry>モード</entry>
	 <entry>意味</entry>
	</row>
       </thead>
       <tbody>
	<row>
	 <entry>0</entry>
	 <entry>
	  整数で曜日番号 (0=sunday, 1=monday, 等)を返します。
	 </entry>
	</row>
	<row>
	 <entry>1</entry> 
	 <entry> 
	  曜日(英グレゴリウス)を含む文字列を返します。
	 </entry>
	</row>
	<row>
	 <entry>2</entry> 
	 <entry> 曜日の省略形(英グレゴリウス)を含む文字列を返します。
	 </entry>
	</row>
       </tbody>
      </tgroup>
     </table>
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.easter-date">
   <refnamediv>
    <refname>easter_date</refname>
    <refpurpose>
     指定した年における復活祭の真夜中のUNIX時を得る
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>easter_date</function></funcdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     指定した年yearにおける復活祭の真夜中のUNIX時を返します。
     yearが指定されない場合、現在の年が仮定されます。
    </para>
    <para>
     <emphasis>警告:</emphasis> この関数は、指定した年がUNIX時の
     範囲外(すなわち1970年以前か2037年以降)である場合に警告を
     生成します。
     <example>
      <title><function>easter_date</function>の例</title>
      <programlisting role="php">
echo date ( "M-d-Y", easter_date(1999));        /* "1999/4/04" */
echo date ( "M-d-Y", easter_date(2000));        /* "2000/4/23" */
echo date ( "M-d-Y", easter_date(2001));        /* "2001/4/15" */
      </programlisting>
     </example>
    </para>
    <para>
     復活祭の日付は、西暦325年の Nicaea 会議で春分の日の後の
     最初の満月の後の日曜日として定められました。
     満月とその次の日曜日の日付の計算を簡単にするために
     春分の日は常に3月21日になるとして計算されます。
     ここで用いるアルゴリズムは、532年頃、Dionysius Exiguus により
     導出されたものです。(1753年より前の年に関して)ユリウス暦の元では
     月の周期を追うために簡単な19年周期が用いられます。グレゴリウス暦
     (1753年以降。この暦は、ClaviusとLiliusにより考案され、
     教皇グレゴリウス13世により1582年10月に導入、イギリス及びその植民地に
     1752年9月に導入された。)
     のもとで、二つの補正係数が周期をより正確に作成するために追加されました。
    </para>
    <para>
     (このコードは、Simon Kershaw,
     &lt;webmaster@ely.anglican.org&gt;によるCプログラムに基づくものです。)
    </para>
    <para>
     1970年以前または2037年以降の復活祭の計算に関しては、
     <function>easter_days</function> を参照ください。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.easter-days">
   <refnamediv>
    <refname>easter_days</refname>
    <refpurpose>指定した年において3月21日以降、復活祭までの日数を得る</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>easter_days</function></funcdef>
     <paramdef>int <parameter>year</parameter></paramdef>
    </funcsynopsis>
    <para>
     指定した年 year において3月21日以降復活祭までの日数を返します。
     year が指定されない場合、現在の年が仮定されます。
    </para>
    <para>
     この関数は、UNIX時の範囲外(すなわち1970年以前または2037年以降)の復活祭を
     計算するために<function>easter_date</function>の代わりにしようすることが
     できます。
     <example>
      <title><function>easter_date</function>の例</title>
      <programlisting role="php">
echo easter_days (1999);        /* 14, すなわち　4月4日   */
echo easter_days (1492);        /* 32, すなわち　4月22日  */
echo easter_days (1913);        /*  2, すなわち　3月23日  */
      </programlisting>
     </example>
    </para>
    <para>
     復活祭の日付は、西暦325年のNicaeaの会議で春分の人の日以降の
     最初の満月の後の日曜日として定義されました。
     満月とその次の日曜日の日付の計算を簡単にするために
     春分の日は常に3月21日になるとして計算されます。
     ここで用いるアルゴリズムは、532年頃、Dionysius Exiguus により
     導出されたものです。(1753年より前の年に関して)ユリウス暦の元では
     月の周期を追うために簡単な19年周期が用いられます。グレゴリウス暦
     (1753年以降。この暦は、Clavius と Lilius により考案され、
     教皇グレゴリウス13世により1582年10月に導入、イギリス及びその植民地に
     1752年9月に導入された。)
     のもとで、二つの補正係数が周期をより正確に作成するために追加されました。
    </para>
    <para>
     (このコードは、Simon Kershaw,
     &lt;webmaster@ely.anglican.org&gt;によるCプログラムに基づくものです。)
    </para>
    <para>
     <function>easter_date</function>も参照ください。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.unixtojd">
   <refnamediv>
    <refname>unixtojd</refname>
    <refpurpose>UNIXタイムスタンプをユリウス歴に変換する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>unixtojd</function></funcdef>
     <paramdef>int 
      <parameter><optional>timestamp</optional></parameter>
     </paramdef>
    </funcsynopsis>
    <para>
     UNIX歴(1970/1/1からの秒数)<parameter>timestamp</parameter>をユリウス歴
     に変換して返します。<parameter>timestamp</parameter>が指定されない場合は
     現在の日付が使用されます。
    </para>
    <para>
     <function>jdtounix</function>も参照下さい。
    </para>
    <note>
     <para>
     この関数は、PHP4RC1以降のバージョンのPHPでのみ利用可能です。
     </para>
    </note>
   </refsect1>
  </refentry>
  
  <refentry id="function.jdtounix"> 
   <refnamediv>
    <refname>jdtounix</refname>
    <refpurpose>ユリウス歴をUNIXタイムスタンプに変換する</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcdef>int <function>jdtounix</function></funcdef>
     <paramdef>int <parameter>jday</parameter></paramdef>
    </funcsynopsis>
    <para>
     この関数は、<parameter>jday</parameter>で指定したユリウス歴
     に対応するUNIXタイムスタンプを返します。
     <parameter>jday</parameter>がUNIX歴(グレゴリウス歴で1970年と2037年の間
     または2440588 &lt;= <parameter>jday</parameter> &lt;= 2465342)
     の範囲外の場合はfalseを返します。
    </para>
    <para>
     <function>jdtounix</function>も参照下さい。
    </para>
    <note>
     <para>
     この関数は、PHP4RC1以降のバージョンのPHPで利用可能です。
     </para>
    </note>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
