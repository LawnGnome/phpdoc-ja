<?xml version="1.0" encoding="utf-8"?>
<!-- splitted from ./ja/functions/misc.xml, last change in rev 1.10 -->
<!-- EN-Revision: 1.22 Maintainer: hirokawa Status: ready -->
  <refentry id="function.highlight-file">
   <refnamediv>
    <refname>highlight_file</refname>
    <refpurpose>ファイルの構文ハイライト表示</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
     <methodsynopsis>
      <type>bool</type><methodname>highlight_file</methodname>
      <methodparam><type>string</type><parameter>filename</parameter></methodparam>
     </methodsynopsis>
    <simpara>
     関数 <function>highlight_file</function>は、
     <parameter>filename</parameter>の中のコードをPHP組込の構文ハイラ
     イタで定義されたカラーを使用して構文ハイライト表示したものを出力
     します。この関数は、成功時に&true;、その他の場合に&false;を返します。
     (PHP 4)
    </simpara>
    <note>
     <simpara>
      関数 <function>show_source</function> および
      <function>highlight_file</function>を使用する場合には、パスワー
      ドや潜在的なセキュリティ上の危険を生む類の他の情報のような重要な
      情報を不注意で公開してしまわないように注意する必要があります。
     </simpara>
    </note>
    <para>
     <example>
      <title>URLのソースハイライト表示の作成</title>
      <simpara>
       引数として指定したスクリプトのコードをハイライト表示できるよう
       なURLを設定する際には、適したURLパターンを生成するためにApache
       の &quot;ForceType&quot; ディレクティブを使用し、見栄えの良いコー
       ドリストを表示するために関数<function>highlight_file</function>
       を使用します。
      </simpara>
      <simpara>
       httpd.confに次のような記述を追加します。
      </simpara>
      <para>
       <informalexample>
	<programlisting>
<![CDATA[
<Location /source>
    ForceType application/x-httpd-php
</Location>
]]>
	</programlisting>
       </informalexample>
      </para>
      <simpara>
       そして、"source"という名前のファイルを作成し、それをWebのルート
       ディレクトリに置きます。
      </simpara>
      <para>
       <programlisting role="php">
<![CDATA[
<HTML>
<HEAD>
<TITLE>Source Display</TITLE>
</HEAD>
<BODY BGCOLOR="white">
<?php
    $script = getenv ("PATH_TRANSLATED");
    if(!$script) {
    echo "<BR><B>ERROR: Script Name needed</B><BR>";
    } else {
    if (ereg("(\.php|\.inc)$",$script)) {
    echo "<H1>Source of: $PATH_INFO</H1>\n<HR>\n";
    highlight_file($script);
    } else {
    echo "<H1>ERROR: Only PHP or include script names are allowed</H1>"; 
    }
    }
    echo "<HR>Processed: ".date("Y/M/d H:i:s",time());
?>
</BODY>
</HTML>
]]>
       </programlisting>
      </para>
      <simpara>
       これにより、"/path/to/script.php"にあるスクリプトのカラー表示を
       表示するために以下のURLを使用することができるようになります。
      </simpara>
      <para>
       <informalexample>
    <programlisting>
http://your.server.com/source/path/to/script.php
    </programlisting>
       </informalexample>
      </para>
     </example>
    </para>
     &tip.ob-capture;
    <simpara>
     <function>highlight_string</function>,
     <function>show_source</function>も参照ください。
    </simpara>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
