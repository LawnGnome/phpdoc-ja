<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.1 $ -->
<section id="zlib.configuration">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  zlib拡張モジュールは、ブラウザがサポートする場合にページを透過的に圧
  縮するオプションを提供します。
  ここで、
  <link linkend="configuration.file">設定ファイル</link> &php.ini;
  のオプションには、以下の3種類があります。
  <table>
   <title>Zlib設定オプション</title>
   <tgroup cols="3">
    <thead>
     <row>
      <entry>名前</entry>
      <entry>デフォルト</entry>
      <entry>変更の可否</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>zlib.output_compression</entry>
      <entry>"Off"</entry>
      <entry>PHP_INI_ALL</entry>
     </row>
     <row>
      <entry>zlib.output_compression_level</entry>
      <entry>"-1"</entry>
      <entry>PHP_INI_ALL</entry>
     </row>
     <row>
      <entry>zlib.output_handler</entry>
      <entry>""</entry>
      <entry>PHP_INI_ALL</entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  PHP_INI_*定数の定義と詳細については、
  <function>ini_set</function>を参照して下さい。
 </para>
 <para>
  以下に設定ディレクティブに関する簡単な説明を示します。
  <variablelist>
   <varlistentry id="ini.zlib.output-compression">
    <term>
     <parameter>zlib.output_compression</parameter>
     <type>boolean</type>/<type>integer</type>
    </term>
    <listitem>
     <para>
      透過的なページ圧縮を行うかどうか。&php.ini;またはApacheの設定で
      このオプションが、"On"に設定された場合、
      ブラウザが"Accept-Encoding: gzip"または"deflate"ヘッダを送信する
      場合に、ページは圧縮されます。
      "Content-Encoding: gzip" (および"deflate")と"Vary:
      Accept-Encoding"ヘッダが出力に追加されます。
     </para>
     <para>
      ヘッダが未送信の場合、スクリプト内でこのオプションを無効にするた
      めに<function>ini_set</function>を使用することが可能です。
      "Content-Type: image/"ヘッダを出力した場合、(Netscapeのバグのせ
      いで)圧縮が無効となります。
      image content-typeを追加するヘッダコールの後、
      "ini_set('zlib.output_compression', 'On')"を追加した場合、
      再度有効にすることができます。
     </para>
     <para>
      このオプションも論理値"On"/"Off"のかわりに整数値をとることができ、
      これを用いて出力のバッファサイズ(デフォルトは4KB)を設定すること
      ができます。
     </para>
     <note>
      <para>
       このオプションに'On'を設定した場合、
       <link linkend="ini.output-handler">output_handler</link>を空に
       する必要があります! かわりにzlib.output_handlerを使用する必要が
       あります。
      </para>
     </note>
    </listitem>
   </varlistentry>
   
   <varlistentry id="ini.zlib.output-compression-level">
    <term>
     <parameter>zlib.output_compression_level</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      透過的出力圧縮で使用される圧縮レベル。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry id="ini.zlib.output-handler">
    <term>
     <parameter>zlib.output_handler</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      zlib.output_compressionが有効な場合に他の出力ハンドラを指定する
      ことはできません。この設定は、<link linkend="ini.output-handler">
       output_handler</link>と同じですが、順番が異なります。
     </para>
   </listitem>
   </varlistentry>
   
  </variablelist>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->


