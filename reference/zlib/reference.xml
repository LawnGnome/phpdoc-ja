<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.6 $ -->
<!-- EN-Revision: 1.16 Maintainer: hirokawa Status: ready -->
<!-- CREDITS: shimooka,takagi -->
<!-- Purpose: compression -->
<!-- Membership: bundled -->

 <reference id="ref.zlib">
  <title>zlib 圧縮関数</title>
  <titleabbrev>Zlib</titleabbrev>

  <partintro>
   <section id="zlib.intro">
    &reftitle.intro;
    <para>
     このモジュールにより gzip (.gz)
     で圧縮されたファイルを読み書きすることが可能となります。
     この際、<link linkend="ref.filesystem">ファイルシステム</link>
     関数の gzip 圧縮対応版 (非圧縮ファイルも扱えますが、
     ソケットは扱えません)を使用します。
    </para>
    <note>
     <para>
      バージョン 4.0.4 で .gz ファイルに対応した fopen のラッパー
      を導入しました。
      <function>fopen</function> に渡すファイル名または
      パス名に <filename>zlib:</filename> をつけると、通常の f*()
      ファイルアクセス関数を使用して圧縮ファイルに透過的にアクセスすることが
      できます。
     </para>
     <para>
      PHP 4.3.0 において、';' を含むファイル名との曖昧さを避けるため
      <filename>zlib:</filename> は <filename>compress.zlib://</filename>
      に変更されました。<literal>fopencookie()</literal> 関数は
      もはや必要ありません。詳細な情報は、
      <xref linkend="wrappers.compression" /> にあります。
     </para>
    </note>
   </section>

   <section id="zlib.requirements">
    &reftitle.required;
    <para>
     このモジュールは、Jean-loup Gailly および Mark Adler による
     <ulink url="&url.zlib;">zlib</ulink> の関数を使用します。
     このモジュールを使用するには、zlib バージョン &gt;= 1.0.9
     を使用する必要があります。
    </para>
   </section>

   &reference.zlib.configure;

   &reference.zlib.ini;

   <section id="zlib.resources">
    &reftitle.resources;
    &no.resource;
   </section>

   &reference.zlib.constants;

   <section id="zlib.examples">
    &reftitle.examples;
    <para>
     テンポラリファイルをオープンし、テスト用文字列を書きこみ、
     続いて、このファイルの内容を 2 回出力します。
    </para>
    <example>
     <title>簡単な Zlib の例</title>
     <programlisting role="php">
<![CDATA[
<?php

$filename = tempnam('/tmp', 'zlibtest') . '.gz';
echo "<html>\n<head></head>\n<body>\n<pre>\n";
$s = "Only a test, test, test, test, test, test, test, test!\n";

// 最大限の圧縮を指定して書きこみ用にファイルをオープン
$zp = gzopen($filename, "w9");

// 文字列をファイルに書きこむ
gzwrite($zp, $s);

// ファイルを閉じる
gzclose($zp);

// 読みこみ用にファイルをオープン
$zp = gzopen($filename, "r");

// 3 文字読みこむ
echo gzread($zp, 3);

// ファイルの終端まで出力して閉じる
gzpassthru($zp);
gzclose($zp);

echo "\n";

// ファイルをオープンし、内容を出力する (2回目)
if (readgzfile($filename) != strlen($s)) {
        echo "Error with zlib functions!";
}
unlink($filename);
echo "</pre>\n</body>\n</html>\n";

?>
]]>
     </programlisting>
    </example>
   </section>
  </partintro>

&reference.zlib.functions;

 </reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

