<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.5 $ -->
<!-- splitted from ./ja/functions/mnogosearch.xml, last change in rev 1.8 -->
<!-- EN-Revision: 1.6 Maintainer: hirokawa Status: ready -->
<!-- CREDITS: takagi -->
 <refentry id="function.udm-add-search-limit">
  <refnamediv>
   <refname>udm_add_search_limit</refname>
   <refpurpose>種々の検索の制約を設定する</refpurpose>
  </refnamediv>
  <refsect1>
   <title>説明</title>
    <methodsynopsis>
     <type>bool</type><methodname>udm_add_search_limit</methodname>
     <methodparam><type>resource</type><parameter>agent</parameter></methodparam>
     <methodparam><type>int</type><parameter>var</parameter></methodparam>
     <methodparam><type>string</type><parameter>val</parameter></methodparam>
    </methodsynopsis>
   <para>
    <function>udm_add_search_limit</function> は、検索の制約を追加します。
    &return.success;
   </para>
   <para>
    <parameter>agent</parameter> -
    <function>udm_alloc_agent</function> から返された、エージェントへの
    リンク。
   </para>
   <para>
    <parameter>var</parameter> - パラメータを定義、制限を示します。
   </para>
   <para>
    <parameter>val</parameter> - カレントのパラメータの値を定義します。
   </para>
   <para>
    使用可能な <parameter>var</parameter> の値は次のようになります。
   </para>
   <itemizedlist>
    <listitem>
     <simpara>
      UDM_LIMIT_URL - データベースのサブセクションにおける検索を制限する
      ためにドキュメント URL に制限を課します。この機能は、SQL の %
      および _ LIKE ワイルドカードをサポートします。ただし、% は
      (ゼロを含む) 任意の数の文字の並びで、 _ は 1 文字だけにマッチします。
      例えば、http://www.example.__/catalog は
      http://www.example.com/catalog および http://www.example.net/catalog
      を表すことが可能です。
     </simpara>
    </listitem>
    <listitem>
    <simpara>
      UDM_LIMIT_TAG - サイト TAG 制約を定義します。indexer-conf において
      特定の TAG を様々なサイトやあるサイトの一部に割り付けることが可能です。
      mnoGoSearch 3.1.x のタグは複数行とすることが可能で、メタ記号 %
      および _ を含むことが可能です。メタ記号は、タグ集合により中から
      の検索が可能となります。例えば、ABCDおよびABCEを有するリンクが
      あり、検索の制約がABC_であるとすると、この検索は両方のタグにつ
      いて行われます。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_LANG - ドキュメントの言語に関する制限を定義します。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_CAT - ドキュメントのカテゴリに関する制限を定義します。
      カテゴリはタグ機能に似ていますが、ネストすることが可能です。
      このため、あるカテゴリの中に他のカテゴリを有するといったことが
      可能です。各レベルについて 2 つの文字を使用する必要があります。0-F
      の 16 進数または 0-Z の 36 進数を使用してください。この場合、'Auto'
      のような最上位のカテゴリは 01 になります。このカテゴリが 'Ford'
      のようなサブカテゴリを有している場合、トップカテゴリが 01(親カテゴリ)、
      'Ford' が 01 となります。この結果をまとめると 0101 となります。'
      Auto' が 'VW' という名前の他のサブカテゴリを有している場合、
      'Ford' カテゴリに属しているためにその ID は 01 になるかもしれませんが、
      通常は次のカテゴリであるために 02 になります。このため、その
      ID は 0102 となるでしょう。VW が 'Engine' という名前のサブカテゴリを
      有している場合には、その ID は再び 01 になり、'VW' が ID02
      を有しており、'Auto' の ID が 01 であるので、まとめると、010201
      となります。このカテゴリに関してサイトの検索を行う場合には、URL に
      cat=010201 を指定します。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_DATE - ドキュメントの更新時刻についての制限を定義します。
     </simpara>
     <simpara>
      パラメータの書式は、最初に &lt; あるいは &gt; があり、その後に
      空白を置かずに unixtime 形式の日付を続けます。例えば以下のように
      なります。
     </simpara>
     <para>
      <example>
       <title />
       <programlisting role="php">
<![CDATA[
<?php
      Udm_Add_Search_Limit($udm, UDM_LIMIT_DATE, "&lt;908012006");
?>
]]>
       </programlisting>
      </example>
     </para>
     <simpara>
      &gt; 文字が使用された場合、更新時刻がその日付以降のドキュメントのみが
      検索対象となります。&lt; の場合はそれ以前となります。
     </simpara>
    </listitem>
   </itemizedlist>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
