<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.7 $ -->
<!-- EN-Revision: 1.18 Maintainer: hirokawa Status: ready -->
<!-- CREDITS: shimooka -->
<refentry id="function.date">
 <refnamediv>
  <refname>date</refname>
  <refpurpose>ローカルの日付/時刻を書式化する</refpurpose>
 </refnamediv>
 <refsect1>
  <title>説明</title>
  <methodsynopsis>
   <type>string</type><methodname>date</methodname>
   <methodparam><type>string</type><parameter>format</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>
     timestamp
    </parameter></methodparam>
  </methodsynopsis>
  <para>
   指定された引数 <parameter>timestamp</parameter> を、与えられた
   フォーマット文字列によりフォーマットし、日付文字列を返します。
   タイムスタンプが与えられない場合は、現在のローカル時刻が使われま
   す。つまり、<parameter>timestamp</parameter>はオプションであり
   そのデフォルト値は<function>time</function>の値です。
   <note>
    <para>
     有効なタイムスタンプの範囲は通常       Fri, 13 Dec 1901
     20:45:54 GMTからTue, 19 Jan 2038 03:14:07 GMTまでです。
     (これらの日付は、32ビット符号付き整数の最小および最大値に対応し
     ます。)
     Windowsではこの範囲は1970年1月1日から2038年1月19日GMTに制限されます。
    </para>
   </note>
   <note>
    <para>
     日付の文字列表現からタイムスタンプを生成するには、
     <function>strtotime</function>を使用できる可能性があります。加
     えて、いくつかのデータベースは、(MySQLの
     <ulink url="&url.mysql.docs.date;">UNIX_TIMESTAMP</ulink> 関数の
     ような)日付フォーマットからタイムスタンプに変換する関数を有しています。
    </para>
   </note>
  </para>
  <para>
   <table>
    <title>以下の文字は<parameter>format</parameter>パラメータ文字列として認識されます</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry><parameter>format</parameter> character</entry>
       <entry>説明</entry>
       <entry>戻り値の例</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry align="center"><emphasis>日</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>d</literal></entry>
       <entry>日。二桁の数字（先頭にゼロがつく場合も）</entry>
       <entry><literal>01</literal> から <literal>31</literal></entry>
      </row>
      <row>
       <entry><literal>D</literal></entry>
       <entry>曜日。3文字のテキスト形式。</entry>
       <entry><literal>Mon</literal> から <literal>Sun</literal></entry>
      </row>
      <row>
       <entry><literal>j</literal></entry>
       <entry>日。先頭にゼロをつけない。</entry>
       <entry><literal>1</literal> から <literal>31</literal></entry>
      </row>
      <row>
         <entry><literal>l</literal> (小文字の 'L')</entry>
       <entry>曜日。フルスペル形式。</entry>
       <entry><literal>Sunday</literal> から <literal>Saturday</literal></entry>
      </row>
      <row>
       <entry><literal>S</literal></entry>
       <entry>英語形式の序数を表すサフィックス。2 文字。</entry>
       <entry>
        <literal>st</literal>, <literal>nd</literal>, <literal>rd</literal>
        または   <literal>th</literal>。  <literal>j</literal>と一緒に使用する
        ことができる。
       </entry>
      </row>
      <row>
       <entry><literal>w</literal></entry>
       <entry>曜日。数値。</entry>
       <entry><literal>0</literal> (日曜)から <literal>6</literal> (土曜)</entry>
      </row>
      <row>
       <entry><literal>z</literal></entry>
       <entry>年間の通算日。数字。</entry>
       <entry><literal>0</literal> から <literal>366</literal></entry>
      </row>
      <row>
       <entry align="center"><emphasis>週</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>W</literal></entry>
       <entry>ISO-8601 月曜日に始まる年単位の週番号 (PHP 4.1.0で追加)</entry>
       <entry>例: <literal>42</literal> (１年の第42週目)</entry>
      </row>
      <row>
       <entry align="center"><emphasis>月</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>F</literal></entry>
       <entry>月。フルスペルの文字。</entry>
       <entry><literal>January</literal> から <literal>December</literal></entry>
      </row>
      <row>
       <entry><literal>m</literal></entry>
       <entry>月。数字。先頭にゼロをつける。</entry>
       <entry><literal>01</literal> から <literal>12</literal></entry>
      </row>
      <row>
       <entry><literal>M</literal></entry>
       <entry>月。3文字形式。</entry>
       <entry><literal>Jan</literal> から <literal>Dec</literal></entry>
      </row>
      <row>
       <entry><literal>n</literal></entry>
       <entry>月。数字。先頭にゼロをつけない。</entry>
       <entry><literal>1</literal> から <literal>12</literal></entry>
      </row>
      <row>
       <entry><literal>t</literal></entry>
       <entry>指定した月の日数。</entry>
       <entry><literal>28</literal> から <literal>31</literal></entry>
      </row>
      <row>
       <entry align="center"><emphasis>年</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>L</literal></entry>
       <entry>閏年であるかどうかを表す論理値。</entry>
       <entry><literal>1</literal>なら閏年。<literal>0</literal>なら閏年ではない。</entry>
      </row>
      <row>
       <entry><literal>Y</literal></entry>
       <entry>年。4 桁の数字。</entry>
       <entry>例: <literal>1999</literal>または<literal>2003</literal></entry>
      </row>
      <row>
       <entry><literal>y</literal></entry>
       <entry>年。2 桁の数字。</entry>
       <entry>例: <literal>99</literal> または <literal>03</literal></entry>
      </row>
      <row>
       <entry align="center"><emphasis>時刻</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
         <entry><literal>a</literal></entry>
       <entry>午前または午後（小文字）</entry>
         <entry><literal>am</literal> または <literal>pm</literal></entry>
      </row>
      <row>
         <entry><literal>A</literal></entry>
       <entry>午前または午後（大文字）</entry>
       <entry><literal>AM</literal> または <literal>PM</literal></entry>
      </row>
      <row>
       <entry><literal>B</literal></entry>
       <entry>Swatch インターネット時間</entry>
       <entry><literal>000</literal> から <literal>999</literal></entry>
      </row>
      <row>
       <entry><literal>g</literal></entry>
       <entry>時。12時間単位。先頭にゼロを付けない。</entry>
       <entry><literal>1</literal> から <literal>12</literal></entry>
      </row>
      <row>
       <entry><literal>G</literal></entry>
       <entry>時。24時間単位。先頭にゼロを付けない。</entry>
       <entry><literal>0</literal> から <literal>23</literal></entry>
      </row>
      <row>
       <entry><literal>h</literal></entry>
       <entry>時。数字。12 時間単位。</entry>
       <entry><literal>01</literal> から <literal>12</literal></entry>
      </row>
      <row>
       <entry><literal>H</literal></entry>
       <entry>時。数字。24 時間単位。</entry>
       <entry><literal>00</literal> から <literal>23</literal></entry>
      </row>
      <row>
       <entry><literal>i</literal></entry>
       <entry>分。先頭にゼロをつける。</entry>
       <entry><literal>00</literal> to <literal>59</literal></entry>
      </row>
      <row>
       <entry><literal>s</literal></entry>
       <entry>秒。先頭にゼロをつける。</entry>
       <entry><literal>00</literal> から <literal>59</literal></entry>
      </row>
      <row>
       <entry align="center"><emphasis>タイムゾーン</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>I</literal> (大文字の i)</entry>
       <entry>サマータイム中か否か</entry>
       <entry><literal>1</literal>ならサマータイム中。 <literal>0</literal>ならそうではない。</entry>
      </row>
      <row>
       <entry><literal>O</literal></entry>
       <entry>グリニッジ標準時(GMT)との時間差</entry>
       <entry>Example: <literal>+0200</literal></entry>
      </row>
      <row>
       <entry><literal>T</literal></entry>
       <entry>このマシーンのタイムゾーンの設定。</entry>
       <entry>例: <literal>EST</literal>, <literal>MDT</literal> ...</entry>
      </row>
      <row>
       <entry><literal>Z</literal></entry>
       <entry>タイムゾーンのオフセット秒数。
        UTCの西側のタイムゾーン用のオフセットは常に負です。そして、
        UTCの東側のオフセットは常に正です。</entry>
       <entry><literal>-43200</literal> から <literal>43200</literal></entry>
      </row>
      <row>
       <entry align="center"><emphasis>全ての日付/時刻</emphasis></entry>
       <entry>---</entry>
       <entry>---</entry>
      </row>
      <row>
       <entry><literal>c</literal></entry>
       <entry>ISO 8601 日付 (PHP 5 で追加されました)</entry>
       <entry>2004-02-12T15:19:21+00:00</entry>
      </row>
      <row>
       <entry><literal>r</literal></entry>
       <entry>RFC 822 フォーマットされた日付</entry>
       <entry>例: <literal>Thu, 21 Dec 2000 16:01:07 +0200</literal></entry>
      </row>
      <row>
       <entry><literal>U</literal></entry>
       <entry>Unix 時(1970年1月1日0時0分0秒)からの秒数</entry>
       <entry><function>time</function>も参照</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   フォーマット文字列中の認識されない文字は、そのまま表示されます。
   <literal>Z</literal>形式は、
   <function>gmdate</function>で使用した場合、常に"0"を返します。
  </para>
  <para>
   <example>
    <title><function>date</function> の例</title>
    <programlisting role="php">
<![CDATA[
<?php
// Prints something like: Wednesday
echo date("l");

// Prints something like: Wednesday 15th of January 2003 05:51:38 AM
echo date("l dS of F Y h:i:s A");

// Prints: July 1, 2000 is on a Saturday
echo "July 1, 2000 is on a " . date("l", mktime(0, 0, 0, 7, 1, 2000));
?>
]]>
    </programlisting>
   </example>
  </para>
  <para>
   前にバックスラッシュを付けてエスケープすることにより、フォーマッ
   ト文字列として認識される文字が展開されることを防止することができ
   ます。バックスラッシュ付きの文字は既に特別なシーケンスであり、バッ
   クスラッシュもエスケープすることが必要となる可能性があります。
   <example>
    <title><function>date</function>の文字をエスケープする</title>
    <programlisting role="php">
<![CDATA[
<?php
// Wednesday the 15th のように出力
echo date("l \\t\h\e jS");
?>
]]>
    </programlisting>
   </example>
  </para>
  <para>
   <function>date</function> と <function>mktime</function> の
   両方を用いて未来または過去の日付を知ることができます。
   <example>
    <title>
     <function>date</function>と<function>mktime</function>の例
    </title>
    <programlisting role="php">
<![CDATA[
<?php
$tomorrow  = mktime(0, 0, 0, date("m")  , date("d")+1, date("Y"));
$lastmonth = mktime(0, 0, 0, date("m")-1, date("d"),   date("Y"));
$nextyear  = mktime(0, 0, 0, date("m"),   date("d"),   date("Y")+1);
?>
]]>
    </programlisting>
   </example>
   <note>
    <para>
     サマータイムがあるため日付や月の秒数を単純にタイムスタンプに可
     減算するよりもより信頼性があります。
    </para>
   </note>
  </para>
  <para>
   <function>date</function> フォーマットのいくつかの例を示します。
   現在の実装で特別な意味がある文字や今後のPHPのバージョンで意味が割
   り付けられるであろう文字については、望ましくない結果を避けるため
   にエスケープする必要があることに注意してください。エスケープをする
   際には、改行文字 \n のような文字を回避するためにシングルークオー
   トを使用してください。
   <example>
    <title>
     <function>date</function>のフォーマット指定
    </title>
    <programlisting role="php">
<![CDATA[
<?php
/* 今日は、March 10th, 2001, 5:16:18 pm です。 */
$today = date("F j, Y, g:i a");                 // March 10, 2001, 5:16 pm
$today = date("m.d.y");                         // 03.10.01
$today = date("j, n, Y");                       // 10, 3, 2001
$today = date("Ymd");                           // 20010310
$today = date('h-i-s, j-m-y, it is w Day z ');  // 05-16-17, 10-03-01, 1631 1618 6 Fripm01
$today = date('\i\t \i\s \t\h\e jS \d\a\y.');   // It is the 10th day.
$today = date("D M j G:i:s T Y");               // Sat Mar 10 15:16:08 MST 2001
$today = date('H:m:s \m \i\s\ \m\o\n\t\h');     // 17:03:17 m is month
$today = date("H:i:s");                         // 17:16:17
?>
]]>
    </programlisting>
   </example>
  </para>
  <para>
   他の言語で日付をフォーマットするためには、
   <function>setlocale</function> および <function>strftime</function>
   関数を使用する必要があります。
  </para>
  <para>
   <function>getlastmod</function>, <function>gmdate</function>,
   <function>mktime</function>, <function>strftime</function>,
   <function>time</function>も参照ください。
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
