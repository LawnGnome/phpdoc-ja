<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.1 $ -->
<!-- EN-Revision: 1.4 Maintainer: hirokawa Status: ready -->
 <reference id="ref.xsl">
  <title>XSL関数</title>
  <titleabbrev>XSL</titleabbrev>
  
  <partintro>
   
   <section id="xsl.intro">
    &reftitle.intro;
    &warn.experimental;
    <para>
     XSLエクステンションは、XSLの標準規格を実装したもので、
     libxsltライブラリを用いてXSLT変換を行います。
    </para>
   </section>

   <section id="xsl.installation">
    &reftitle.install;
    <para>
     PHP 5には、デフォルトでXSLエクステンションが含まれており、
     configureに引数<option role="configure">--with-xsl[=DIR]</option>
     を追加することにより有効にすることができます。
     <literal>DIR</literal> は libxslt をインストールしたディレクトリです。
     libxslt バージョン 1.0.18 以降が必要です。
    </para>
   </section>
   
   <section id="xsl.examples">
    &reftitle.examples;
    <para>
     この簡単なチュートリアルでは、XML文書をHTMLに変換する方法について
     学びます。
    </para>
    <para>
     <example>
      <title>簡単なXSLツリー</title>
      <programlisting role="xml">
<![CDATA[
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output method="html" encoding="iso-8859-1" indent="no"/>
 <xsl:template match="collection">
  Hey! Welcome to my sweet CD collection!
  <xsl:apply-templates/>
 </xsl:template>
 <xsl:template match="cd">
  <h1><xsl:value-of select="title"/></h1>
  <h2>by <xsl:value-of select="artist"/></h2>
  <h3> - <xsl:value-of select="year"/></h3>
 </xsl:template>
</xsl:stylesheet>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     <example>
      <title>対応するXMLツリー</title>
      <programlisting role="xml">
<![CDATA[
<collection>
 <cd>
  <title>PHP Rock</title>
  <artist>Joe Coder</artist>
  <year>2003</year>
 </cd>
 <cd>
  <title>Squashing Typos on a Winter's Eve</title>
  <artist>kennyt</artist>
  <year>2004</year>
 </cd>
</collection>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     <example>
      <title>XMLからHTMLを作成</title>
      <simpara>
       以下のPHPコードは、XMLを見栄えの良いHTMLに変換する際にXML／XSL
       エクステンションを使用します。
      </simpara>
      <programlisting role="php">
<![CDATA[
<?php
/* Load the two XML sources */
$xml = new DomDocument; // from /ext/dom
$xml->load('example.xml');

$xsl = new DomDocument;
$xsl->load('example.xsl');

/* Configure the transformer */
$proc = new xsltprocessor;
$proc->importStyleSheet($xsl); // attach the xsl rules
echo $proc->transformToXML($xml); // actual transformation
?>
]]>
      </programlisting>
      <simpara>
       これにより、以下のようなHTMLフラグメントが作成されます。
      </simpara>
      <screen>
<![CDATA[
Hey! Welcome to my sweet CD collection!

<h1>PHP Rock</h1>
<h2>by Joe Coder</h2>
<h3> - 2003</h3>

<h1>Squashing Typos on a Winter's Eve</h1>
<h2> by kennyt</h2>
<h3> - 2004</h3>
]]>
      </screen>
     </example>
    </para>
   </section>
  </partintro>

 &reference.xsl.functions;

 </reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

