<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.2 $ -->
<!-- sync: 1.3 -->
<refentry id="function.sqlite-query">
 <refnamediv>
  <refname>sqlite_query</refname>
  <refpurpose>指定したデータベースに対してクエリを実行し、結果ハンドル
  を返す</refpurpose>
 </refnamediv>
 <refsect1>
  <title>説明</title>
  <methodsynopsis>
   <type>resource</type><methodname>sqlite_query</methodname>
   <methodparam><type>resource</type><parameter>db</parameter></methodparam>
   <methodparam><type>string</type><parameter>query</parameter></methodparam>
  </methodsynopsis>
  <methodsynopsis>
   <type>resource</type><methodname>sqlite_query</methodname>
   <methodparam><type>string</type><parameter>query</parameter></methodparam>
   <methodparam><type>resource</type><parameter>db</parameter></methodparam>
  </methodsynopsis>
  <para>
   (<parameter>db</parameter>パラメータにより指定した)指定したデータベー
   スにより<parameter>query</parameter>で指定したSQLステートメントを実
   行します。
  </para>
  <para>
   レコードを返すクエリの場合、この関数は、結果ハンドルを返します。
   このハンドルは、<function>sqlite_fetch_array</function> や
   <function>sqlite_seek</function>のような関数で使用することができま
   す。
  </para>
  <para>
   他の種類のクエリの場合、この関数は論理値を返し、成功した場合に
   &true;、失敗した場合に &false; となります。
  </para>
  <para>
   クエリの型によらず、この関数はクエリが失敗した場合に&false; を返し
   ます。
  </para>
  <para>
   <function>sqlite_query</function> は、バッファリングされ、シーク可
   能な結果ハンドルを返します。これは、レコードにランダムにアクセスす
   る必要がある小さなクエリの場合に有用です。バッファリングされた結果
   ハンドルは、結果全体を保持するためのメモリを確保し、結果が取得され
   るまでは値を返しません。
   データに連続的にアクセスしたい場合、かわりにより高性能な
   <function>sqlite_unbuffered_query</function> を使用することが
   推奨されます。
  </para>
  <note>
   <simpara>
    (MySQLのような)他のデータベースとの互換性のために別の2種類の構文も
    サポートされています。最初の構文の方が推奨されます。この場合、
    <parameter>db</parameter>パラメータがこの関数の最初のパラメータ
    となります。
   </simpara>
  </note>
  <warning>
   <simpara>
    SQLiteは、セミコロンで区切られた複数のクエリを実行します。
    これにより、ファイルからロードするかスクリプトに埋め込んだSQLをバッ
    チ実行することができます。
   </simpara>
   <simpara>
    複数のクエリを実行する際、この関数の返り値は、エラーの場合に
    &false;となります。しかし、それ以外の場合は不定となります。
    (成功した場合に&true;となるか、結果ハンドルを返す可能性があります)
   </simpara>
  </warning>
  <para>
   <function>sqlite_array_query</function>も参照して下さい。
  </para>
 </refsect1>
</refentry>
<!-- Keep this comment at the end of the file
 Local variables:
 mode: sgml
 sgml-omittag:t
 sgml-shorttag:t
 sgml-minimize-attributes:nil
 sgml-always-quote-attributes:t
 sgml-indent-step:1
 sgml-indent-data:t
 sgml-parent-document:nil
 sgml-default-dtd-file:"../../../../manual.ced"
 sgml-exposed-tags:nil
 sgml-local-catalogs:nil
 sgml-local-ecat-files:nil
 End:
 vim600: syn=xml fen fdm=syntax fdl=2 si
 vim: et tw=78 syn=sgml
 vi: ts=1 sw=1
 -->
