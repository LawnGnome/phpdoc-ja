<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.14 $ -->
<!-- EN-Revision: 1.27 Maintainer: hirokawa Status: ready -->
<!-- CREDITS: takagi -->
<refentry xml:id="function.curl-setopt" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>curl_setopt</refname>
  <refpurpose>cURL 転送用オプションを設定する</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>curl_setopt</methodname>
   <methodparam><type>resource</type><parameter>ch</parameter></methodparam>
   <methodparam><type>int</type><parameter>option</parameter></methodparam>
   <methodparam><type>mixed</type><parameter>value</parameter></methodparam>
  </methodsynopsis>
  <para>
   指定した cURL セッションハンドルのオプションを設定します。
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    &curl.ch.description;
    <varlistentry>
     <term><parameter>option</parameter></term>
     <listitem>
      <para>
       設定したい <literal>CURLOPT_XXX</literal> オプション。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>value</parameter></term>
     <listitem>
      <para>
       <parameter>option</parameter> に設定する値。
      </para>
      <para>
       <parameter>value</parameter> には、
       <parameter>option</parameter> の以下の値に関して
       bool 値を指定する必要があります。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> への設定値</entry>
           <entry>注記</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_AUTOREFERER</constant></entry>
           <entry>
            &true; を設定すると、<literal>Location:</literal> によるリダイレクトを
            たどる際には自動的に <literal>Referer:</literal> フィールドをリクエストに
            追加します。
           </entry>
           <entry>
            PHP 5.1.0 以降で有効です。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_BINARYTRANSFER</constant></entry>
           <entry>
            &true; を設定すると、<constant>CURLOPT_RETURNTRANSFER</constant>
            が使用された場合に出力結果を何も加工せずに返します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_COOKIESESSION</constant></entry>
           <entry>
            &true; を設定すると、クッキーの "セッション" を新しく開始します。
            以前のセッションで読み込まれていた "セッションクッキー" は無視するよう、
            libcurl に指示します。デフォルトでは、それがセッションクッキーであるか
            どうかにかかわらず libcurl はすべてのクッキーを読み込んで保存します。
            セッションクッキーとは、有効期限が指定されておらず "セッション" の間のみ
            有効であるクッキーのことです。
           </entry>
           <entry>
            PHP 5.1.0 以降で有効です。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_CRLF</constant></entry>
           <entry>
            &true; を設定すると、転送時に Unix 形式の改行を CRLF 形式に変換します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_DNS_USE_GLOBAL_CACHE</constant></entry>
           <entry>
            &true; を設定すると、グローバル DNS キャッシュを利用します。
            このオプションはスレッドセーフではありません。また、デフォルトで
            有効になっています。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FAILONERROR</constant></entry>
           <entry>
            &true; を設定すると、HTTP で 400 以上のコードが返ってきた際に
            処理失敗と判断し、何もしません。デフォルトでは、コードの値を無視して
            ページの内容を取得します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FILETIME</constant></entry>
           <entry>
            &true; を設定すると、ドキュメントの更新日時を取得しようと試みます。
            この値を取得するには、<function>curl_getinfo</function> で
            <parameter>CURLINFO_FILETIME</parameter> オプションを用います。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FOLLOWLOCATION</constant></entry>
           <entry>
            &true; を設定すると、サーバが HTTP ヘッダの一部として送ってくる
            <literal>"Location: "</literal> ヘッダの内容をたどります
           （これは再帰的に行われます。<constant>CURLOPT_MAXREDIRS</constant>
            が指定されていない限り、送ってくる <literal>"Location: "</literal>
            ヘッダの内容をずっとたどり続けることに注意しましょう）。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FORBID_REUSE</constant></entry>
           <entry>
            &true; を設定すると、処理が終了した際に明示的に接続を切断します。
            接続を再利用しません。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FRESH_CONNECT</constant></entry>
           <entry>
            &true; を設定すると、キャッシュされている接続を利用せずに
            新しい接続を確立します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTP_USE_EPRT</constant></entry>
           <entry>
            &true; を設定すると、FTP のダウンロードに EPRT（および LPRT）
            を利用します。&false; の場合は EPRT・LPRT を無効にして PORT
            を利用します。
           </entry>
           <entry>
            PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTP_USE_EPSV</constant></entry>
           <entry>
            &true; を設定すると、FTP 転送の際にまず EPSV コマンドの利用を
            試みます。失敗した場合は PASV を利用します。&false; を設定すると、
            EPSV を無効にします。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTPAPPEND</constant></entry>
           <entry>
            &true; を設定すると、リモートファイルを上書きせずに追記します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTPASCII</constant></entry>
           <entry>
            <constant>CURLOPT_TRANSFERTEXT</constant> のエイリアスです。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTPLISTONLY</constant></entry>
           <entry>
            &true; を設定すると、FTP でディレクトリ名のみ表示します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HEADER</constant></entry>
           <entry>
            &true; を設定すると、ヘッダの内容も出力します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HTTPGET</constant></entry>
           <entry>
            &true; を設定すると、HTTP のリクエスト形式を GET に戻します。
            GET はデフォルト設定なので、リクエスト形式が変更されている
            場合にのみ必要となります。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HTTPPROXYTUNNEL</constant></entry>
           <entry>
            &true; を設定すると、指定された HTTP プロキシを利用します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_MUTE</constant></entry>
           <entry>
            &true; を設定すると、cURL 関数に関連する出力を完全に抑えます。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_NETRC</constant></entry>
           <entry>
            &true; を設定すると、リモートサイトと接続を確立する際に用いる
            ユーザ名やパスワードを、<filename>~/.netrc</filename> から取得します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_NOBODY</constant></entry>
           <entry>
            &true; を設定すると、出力からの本文を削除します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_NOPROGRESS</constant></entry>
           <entry>
            &true; を設定すると、cURL 転送の進捗状況表示を無効にします。
            <note>
             <para>
              PHP は、このオプションを自動的に &true; に設定します。
              これを変更するのは、デバッグ時のみにすべきです。
             </para>
            </note>
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_NOSIGNAL</constant></entry>
           <entry>
            &true; を設定すると、cURL 関数が PHP プロセスに送信するシグナルを
            無視します。マルチスレッド SAPI ではデフォルトで on となっており、
            そのためタイムアウトオプションもまだ利用されています。
           </entry>
           <entry>
            cURL 7.10 および PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_POST</constant></entry>
           <entry>
            &true; を設定すると、HTTP POST を行います。POST は、
            <literal>application/x-www-form-urlencoded</literal> 形式で
            行われます。これは一般的な HTML のフォームと同じ形式です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PUT</constant></entry>
           <entry>
            &true; を設定すると、HTTP PUT を行います。PUT するファイルは
            <constant>CURLOPT_INFILE</constant> および
            <constant>CURLOPT_INFILESIZE</constant>
            で指定されている必要があります。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_RETURNTRANSFER</constant></entry>
           <entry>
            &true; を設定すると、<function>curl_exec</function> の返り値を
            文字列で返します。通常はデータを直接出力します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSL_VERIFYPEER</constant></entry>
           <entry>
            &false; を設定すると、cURL はサーバ証明書の検証を行いません。
            別の証明書を <constant>CURLOPT_CAINFO</constant> オプションで
            指定するか、<constant>CURLOPT_CAPATH</constant> オプションで
            証明ディレクトリを指定します。
            <constant>CURLOPT_SSL_VERIFYPEER</constant> を無効にする場合、
            <constant>CURLOPT_SSL_VERIFYHOST</constant> もまた
            &true; あるいは &false; にする必要があります（デフォルトは 2 です）。
           </entry>
           <entry>
            cURL 7.10 以降、デフォルト値は &true; です。また、
            cURL 7.10 以降、デフォルトでインストールされています。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_TRANSFERTEXT</constant></entry>
           <entry>
            &true; を設定すると、FTP 転送を ASCII モードで行います。
            LDAP の場合は、データを HTML ではなくプレーンテキストで取得します。
            Windows システムでは <literal>STDOUT</literal>
            に対してバイナリモードを設定しないでください。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_UNRESTRICTED_AUTH</constant></entry>
           <entry>
            &true; を設定すると、（<constant>CURLOPT_FOLLOWLOCATION</constant>
            を利用して）場所をたどっていく際にユーザ名とパスワードを送信し続けます。
            これは、たとえホスト名が変わっても続けられます。
           </entry>
           <entry>
            PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_UPLOAD</constant></entry>
           <entry>
            &true; を設定すると、アップロードの準備をします。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_VERBOSE</constant></entry>
           <entry>
            &true; を設定すると、詳細な情報を出力します。情報は
            <literal>STDERR</literal> か、または
            <constant>CURLOPT_STDERR</constant>
            で指定したファイルに出力されます。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
      <para>
       <parameter>value</parameter> には、
       <parameter>option</parameter> の以下の値に関して
       整数値を指定する必要があります。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> への設定値</entry>
           <entry>注記</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_BUFFERSIZE</constant></entry>
           <entry>
            1 回の読み込みに用いるバッファのサイズ。しかしながら、必ず
            このバッファいっぱいまで読み込まれることを保証するものではありません。
           </entry>
           <entry>
            cURL 7.10 および PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_CLOSEPOLICY</constant></entry>
           <entry>
            <parameter>CURLCLOSEPOLICY_LEAST_RECENTLY_USED</parameter> あるいは
            <parameter>CURLCLOSEPOLICY_OLDEST</parameter> です。
            他にも 3 つの <literal>CURLCLOSEPOLICY_</literal> 定数が存在しますが、
            cURL はそれらをまだサポートしていません。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_CONNECTTIMEOUT</constant></entry>
           <entry>
            接続の試行を待ち続ける秒数。0 は永遠に待ち続けることを意味します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_DNS_CACHE_TIMEOUT</constant></entry>
           <entry>
            DNS エントリをメモリ内に保持し続ける秒数。デフォルトでは
            120（2 分）に設定されています。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTPSSLAUTH</constant></entry>
           <entry>
            （使用可能な場合の）FTP 認証方法。
            <literal>CURLFTPAUTH_SSL</literal>（まず SSL を試す）、
            <literal>CURLFTPAUTH_TLS</literal>（まず TLS を試す）あるいは
            <literal>CURLFTPAUTH_DEFAULT</literal>（cURL が決める）のいずれかです。
           </entry>
           <entry>
            cURL 7.12.2 および PHP 5.1.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HTTP_VERSION</constant></entry>
           <entry>
            <parameter>CURL_HTTP_VERSION_NONE</parameter> (デフォルト。
            使用するバージョンを決めるのは cURL にまかせる)、
            <parameter>CURL_HTTP_VERSION_1_0</parameter> (HTTP/1.0 を使用する)、
            あるいは <parameter>CURL_HTTP_VERSION_1_1</parameter> (HTTP/1.1 を使用する)
            のいずれかです。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HTTPAUTH</constant></entry>
           <entry>
            <para>
             使用する HTTP 認証方法。以下の中から選びます。
             <parameter>CURLAUTH_BASIC</parameter>、
             <parameter>CURLAUTH_DIGEST</parameter>、
             <parameter>CURLAUTH_GSSNEGOTIATE</parameter>、
             <parameter>CURLAUTH_NTLM</parameter>、
             <parameter>CURLAUTH_ANY</parameter> および
             <parameter>CURLAUTH_ANYSAFE</parameter>。
            </para>
            <para>
             2 つ以上の方法を組み合わせるには、ビット演算子 <literal>|</literal>（or）
             を使用します。このような場合、cURL はサーバがサポートしている方法を
             問い合わせたうえで最適な方法を選択します。
            </para>
            <para>
             <parameter>CURLAUTH_ANY</parameter> は
             <literal>CURLAUTH_BASIC | CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM</literal>
             のエイリアスです。
            </para>
            <para>
              <parameter>CURLAUTH_ANYSAFE</parameter> は
              <literal>CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM</literal>
              のエイリアスです。
            </para>
           </entry>
           <entry>
            PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_INFILESIZE</constant></entry>
           <entry>
            ファイルをリモートサイトにアップロードする際のファイルサイズ。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_LOW_SPEED_LIMIT</constant></entry>
           <entry>
            1 秒あたりのバイト数で、転送速度がこれより遅い期間が
            <constant>CURLOPT_LOW_SPEED_TIME</constant> 秒以上続いた場合に
            PHP は転送を終了します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_LOW_SPEED_TIME</constant></entry>
           <entry>
            転送速度が <constant>CURLOPT_LOW_SPEED_LIMIT</constant>
            より遅い期間がどれだけ続いた場合に転送を異常終了させるかを、
            秒単位で指定します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_MAXCONNECTS</constant></entry>
           <entry>
            許可される持続的接続の最大数。もしこの値に達した場合、
            どの接続を閉じるのかを <constant>CURLOPT_CLOSEPOLICY</constant>
            によって決定します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_MAXREDIRS</constant></entry>
           <entry>
            HTTP のリダイレクト先を追いかける最大値。
            <constant>CURLOPT_FOLLOWLOCATION</constant> とあわせて使用します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PORT</constant></entry>
           <entry>
            接続先のポート番号。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PROXYAUTH</constant></entry>
           <entry>
           プロキシ接続に使用する HTTP 認証の方法。
           <constant>CURLOPT_HTTPAUTH</constant> で説明したのと同じオプションを
           指定可能です。プロキシ認証でサポートされているのは、今のところ
           <parameter>CURLAUTH_BASIC</parameter> および
           <parameter>CURLAUTH_NTLM</parameter> のみです。
           </entry>
           <entry>
            cURL 7.10.7 および PHP 5.1.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PROXYPORT</constant></entry>
           <entry>
            プロキシ接続のポート番号。このポート番号は、
            <constant>CURLOPT_PROXY</constant> で指定することも可能です。
           </entry>
           <entry>
            PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PROXYTYPE</constant></entry>
           <entry>
            <parameter>CURLPROXY_HTTP</parameter>（デフォルト）あるいは
            <parameter>CURLPROXY_SOCKS5</parameter>。
           </entry>
           <entry>
            cURL 7.10 および PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_RESUME_FROM</constant></entry>
           <entry>
            転送を途中から再開する場合のバイトオフセット。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSL_VERIFYHOST</constant></entry>
           <entry>
            1 は SSL ピア証明書に一般名が存在するかどうかを調べます。
            2 はそれに加え、その名前がホスト名と一致することを検証します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLVERSION</constant></entry>
           <entry>
            使用する SSL のバージョン（2 あるいは 3）。デフォルトでは
            PHP が自動的に判断しますが、これを手動で設定する必要がある場合もあります。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_TIMECONDITION</constant></entry>
           <entry>
            <constant>CURLOPT_TIMEVALUE</constant> の扱いを決定します。
            <constant>CURLOPT_TIMEVALUE</constant> で指定した時刻以降に
            変更されたページのみを返す場合は
            <parameter>CURL_TIMECOND_IFMODSINCE</parameter> を使用します。
            <constant>CURLOPT_HEADER</constant> が &true; だと仮定すると、
            ページが変更されていない場合は
            <literal>"304 Not Modified"</literal> ヘッダが返されます。
            <parameter>CURL_TIMECOND_ISUNMODSINCE</parameter> は反対の意味です。
            デフォルトは <parameter>CURL_TIMECOND_IFMODSINCE</parameter>
            です。
           </entry>
           <entry>
            PHP 5.1.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_TIMEOUT</constant></entry>
           <entry>
            cURL 関数の実行にかけられる時間の最大値。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_TIMEVALUE</constant></entry>
           <entry>
            1970 年 1 月 1 日からの経過秒数。この値は
            <constant>CURLOPT_TIMECONDITION</constant> で使用されます。デフォルトでは
            <parameter>CURL_TIMECOND_IFMODSINCE</parameter> が設定されます。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
      <para>
       <parameter>value</parameter> は、
       <parameter>option</parameter> パラメータの
       以下の値に関して文字列である必要があります。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> への設定値</entry>
           <entry>注記</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_CAINFO</constant></entry>
           <entry>
            接続先を検証するための証明書を保持するファイル名。
            これは <constant>CURLOPT_SSL_VERIFYPEER</constant> を使用する場合に
            のみ意味を持ちます。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_CAPATH</constant></entry>
           <entry>
            複数の証明書ファイルを保持するディレクトリ。このオプションは
            <constant>CURLOPT_SSL_VERIFYPEER</constant> とともに使用します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_COOKIE</constant></entry>
           <entry>
            HTTP リクエストにおける
            <literal>"Set-Cookie: "</literal> ヘッダの内容。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_COOKIEFILE</constant></entry>
           <entry>
            クッキーのデータを保持するファイルの名前。クッキーファイルは、
            Netscape フォーマットあるいは
            HTTP ヘッダを単純にファイルにダンプしたものが使用可能です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_COOKIEJAR</constant></entry>
           <entry>
            接続を閉じる際に、すべての内部クッキーを保存するファイルの名前。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_CUSTOMREQUEST</constant></entry>
           <entry>
            HTTP リクエストで
            <literal>"GET"</literal> あるいは <literal>"HEAD"</literal> 以外に
            使用するカスタムメソッド。これが有用なのは、<literal>"DELETE"</literal>
            やその他のあまり知られていない HTTP リクエストを実行する場合です。
            使用可能な値は <literal>"GET"</literal>、
            <literal>"POST"</literal>、<literal>"CONNECT"</literal> などです。
            HTTP リクエストの内容をすべて指定するわけではありません。つまり、
            <literal>"GET /index.html HTTP/1.0\r\n\r\n"</literal> のような
            記述は間違いだということです。
            <note>
             <para>
              使用しようとしているメソッドをサーバがサポートしていることを
              確かめるまで、これを使用しないでください。
             </para>
            </note>
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_EGBSOCKET</constant></entry>
           <entry>
            <constant>CURLOPT_RANDOM_FILE</constant> と似ていますが、
            Entropy Gathering Daemon ソケットを使用してファイル名を生成する点が
            違います。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_ENCODING</constant></entry>
           <entry>
            <literal>"Accept-Encoding: "</literal> ヘッダの内容。
            これにより、応答のデコードを可能にします。サポートされる
            エンコーディングは <literal>"identity"</literal>、
            <literal>"deflate"</literal> および <literal>"gzip"</literal>
            です。もし空文字列 <literal>""</literal> が指定された場合、
            サポートされるエンコーディングをすべて含むヘッダが送信されます。
           </entry>
           <entry>
            cURL 7.10 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_FTPPORT</constant></entry>
           <entry>
            FTP で "POST" を使用するための IP アドレスを取得する際に使用される値。
            "POST" は、リモートサーバに対してこちらが指定した IP アドレスに
            接続するよう指示します。この値に設定できる内容は IP アドレス、ホスト名、
            ネットワークインターフェース名（Unix）、あるいは単に '-' を指定する
            ことでシステムのデフォルト IP アドレスを指定します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_INTERFACE</constant></entry>
           <entry>
            使用するネットワークインターフェースの名前。
            インターフェース名、IP アドレスあるいはホスト名が指定可能です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_KRB4LEVEL</constant></entry>
           <entry>
            KRB4（Kerberos 4）セキュリティレベル。以下の値のいずれか
            （セキュリティの低い順です）が指定可能です。
            <literal>"clear"</literal>、
            <literal>"safe"</literal>、
            <literal>"confidential"</literal>、
            <literal>"private"</literal>。
            文字列がこれらのどれでもなかった場合は、
            <literal>"private"</literal> が使用されます。このオプションを &null;
            にすると KRB4 セキュリティを無効にします。現時点では、KRB4
            セキュリティは FTP 転送にのみ使用可能です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_POSTFIELDS</constant></entry>
           <entry>
            HTTP "POST" で送信するすべてのデータ。
            ファイルを送信するには、ファイル名の先頭に <literal>@</literal>
            をつけます。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PROXY</constant></entry>
           <entry>
            リクエストを経由させる HTTP プロキシ。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PROXYUSERPWD</constant></entry>
            <entry>
             プロキシに接続するためのユーザ名とパスワード。
             <literal>"[username]:[password]"</literal> 形式で指定します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_RANDOM_FILE</constant></entry>
           <entry>
            使用するファイル名を、SSL の乱数生成器を使用して作成します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_RANGE</constant></entry>
           <entry>
            取得するデータの範囲を
            <literal>"X-Y"</literal> 形式で指定します。X あるいは Y は省略可能です。
            HTTP 転送では、いくつかの範囲をカンマで区切った
            <literal>"X-Y,N-M"</literal> のような形式もサポートしています。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_REFERER</constant></entry>
           <entry>
            HTTP リクエストで使用される <literal>"Referer: "</literal>
            ヘッダの内容。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSL_CIPHER_LIST</constant></entry>
           <entry>
            SSL で使用する暗号のリスト。例えば
            <literal>RC4-SHA</literal> および <literal>TLSv1</literal> が
            使用可能です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLCERT</constant></entry>
           <entry>
            PEM フォーマットの証明書を含むファイルの名前。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLCERTPASSWD</constant></entry>
           <entry>
            <constant>CURLOPT_SSLCERT</constant>
            証明書を使用する際に必要なパスワード。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLCERTTYPE</constant></entry>
           <entry>
            証明書の形式。サポートされるフォーマットは
            <literal>"PEM"</literal>（デフォルト）、<literal>"DER"</literal>
            および <literal>"ENG"</literal> です。
           </entry>
           <entry>
            cURL 7.9.3 および PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLENGINE</constant></entry>
           <entry>
            <constant>CURLOPT_SSLKEY</constant> で指定した SSL 秘密鍵の
            暗号化エンジンの ID 。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLENGINE_DEFAULT</constant></entry>
           <entry>
            非対称暗号化で使用する暗号化エンジンの ID 。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLKEY</constant></entry>
           <entry>
            SSL 秘密鍵を含むファイルの名前。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLKEYPASSWD</constant></entry>
           <entry>
            <constant>CURLOPT_SSLKEY</constant> で指定した SSL 秘密鍵を
            使用するために必要なパスワード。
            <note>
             <para>
              このオプションには重要なパスワードが含まれます。PHP スクリプトを
              安全な状態におくことを忘れないでください。
             </para>
            </note>
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_SSLKEYTYPE</constant></entry>
           <entry>
            <constant>CURLOPT_SSLKEY</constant> で指定した SSL 秘密鍵の
            形式。サポートされる型は以下のとおりです。
            <literal>"PEM"</literal>（デフォルト）、<literal>"DER"</literal>
            および <literal>"ENG"</literal> 。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_URL</constant></entry>
           <entry>
            取得する URL 。<function>curl_init</function> でセッションを
            初期化する際に指定することも可能です。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_USERAGENT</constant></entry>
           <entry>
            HTTP リクエストで使用される <literal>"User-Agent: "</literal>
            ヘッダの内容。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_USERPWD</constant></entry>
           <entry>
            接続に使用するユーザ名とパスワード。
            <literal>"[username]:[password]"</literal> 形式で指定します。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
      <para>
       <parameter>value</parameter> には、
       <parameter>option</parameter> の以下の値に関して
       配列を指定する必要があります。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> への設定値</entry>
           <entry>注記</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_HTTP200ALIASES</constant></entry>
           <entry>
            エラーではなく正常な応答として扱われる、HTTP 200 レスポンスの配列。
           </entry>
           <entry>
            cURL 7.10.3 および PHP 5.0.0 で追加されました。
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_HTTPHEADER</constant></entry>
           <entry>
            設定する HTTP ヘッダフィールドの配列。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_POSTQUOTE</constant></entry>
           <entry>
            FTP リクエストの実行後に、サーバ上で実行する FTP コマンドの配列。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_QUOTE</constant></entry>
           <entry>
            FTP リクエストの前にサーバ上で実行する FTP コマンドの配列。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
      <para>
       <parameter>value</parameter> はストリームリソース（例えば
       <function>fopen</function> が作成するもの）であり、以下の
       <parameter>option</parameter> パラメータに設定します。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> に設定する内容</entry>
           <entry>注釈</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_FILE</constant></entry>
           <entry>
            転送内容が書き込まれるファイル。デフォルトは <literal>STDOUT</literal>
            （ブラウザウィンドウ）。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_INFILE</constant></entry>
           <entry>
            アップロード時に転送内容を読み込むファイル。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_STDERR</constant></entry>
           <entry>
            <literal>STDERR</literal> の代わりにエラーを出力する場所。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_WRITEHEADER</constant></entry>
           <entry>
            転送のヘッダ部分が書き込まれるファイル。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
      <para>
       <parameter>value</parameter> には、
       <parameter>option</parameter> の以下の値に関して
       有効なコールバック関数の名前を指定する必要があります。
       <informaltable>
        <tgroup cols="3">
         <thead>
          <row>
           <entry>オプション</entry>
           <entry><parameter>value</parameter> への設定値</entry>
           <entry>注記</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry><constant>CURLOPT_HEADERFUNCTION</constant></entry>
           <entry>
            コールバック関数の名前で、このコールバック関数は 2 つの引数を
            とります。最初のパラメータは CURL リソースで、2 番目は書き込む
            ヘッダデータの文字列です。このコールバック関数を使用するにあたり、
            ヘッダデータを書き込む処理を実装するのはあなたの役目となります。
            書き込んだデータのバイト数を返します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_PASSWDFUNCTION</constant></entry>
           <entry>
            コールバック関数の名前で、このコールバック関数は 3 つの引数を
            とります。最初のパラメータは CURL リソースで、2 番目はパスワード
            プロンプトの文字列、そして 3 番目はパスワードの最大長です。
            入力されたパスワードを文字列で返します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_READFUNCTION</constant></entry>
           <entry>
            コールバック関数の名前で、このコールバック関数は 2 つの引数を
            とります。最初のパラメータは cURL リソースで、2 番目は読み込む
            データの文字列です。このコールバック関数を使用するにあたり、
            データを読み込む処理を実装するのはあなたの役目となります。
            読み込んだデータのバイト数を返します。<literal>EOF</literal>
            シグナルを受け取った場合は 0 を返します。
           </entry>
           <entry>
           </entry>
          </row>
          <row>
           <entry><constant>CURLOPT_WRITEFUNCTION</constant></entry>
           <entry>
            コールバック関数の名前で、このコールバック関数は 2 つの引数を
            とります。最初のパラメータは cURL リソースで、2 番目は書き込む
            データの文字列です。このコールバック関数を使用するにあたり、
            データを書き込む処理を実装するのはあなたの役目となります。
            書き込んだデータの正確なバイト数を返す必要があり、さもないと
            この関数は失敗します。
           </entry>
           <entry>
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &return.success;
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>
     新規に cURL セッションを初期化、ウェブページを取得する
    </title>
    <programlisting role="php">
<![CDATA[
<?php
// 新しい cURL リソースを作成します
$ch = curl_init();

// URL その他のオプションを適切に設定します
curl_setopt($ch, CURLOPT_URL, "http://www.example.com/");
curl_setopt($ch, CURLOPT_HEADER, false);

// URL の内容を取得し、ブラウザに渡します
curl_exec($ch);

// cURL リソースを閉じ、システムリソースを開放します
curl_close($ch);
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>curl_setopt_array</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
