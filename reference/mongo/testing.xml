<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 299698 Maintainer: takagi Status: ready -->

<section xml:id="mongo.testing" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>ドライバのテストの実行</title>

 <para>
  PECL パッケージには PHP のテストが含まれていませんが、
  <link xlink:href="&url.mongodb.github;">Github</link> で公開しています。
  ドライバのソースをダウンロードすると、tests/ ディレクトリ内にテストがあります。
  ドライバのテストには <link xlink:href="&url.phpunit.install;">PHPUnit</link>
  を使っており、これは PEAR でインストールすることができます。
 </para>
 <para>
  すべてのテストを成功させるには、php.ini の <literal>error_reporting</literal>
  を <literal>E_STRICT | E_ALL</literal> に設定しなければなりません。
  そうしないと、発生するはずの警告やエラーが出ないせいでいくつかのテストが失敗します。
 </para>
 <para>
  テストを実行する際には、MongoDB サーバをローカルのポート 27017 で動かしておきましょう。
  Github からダウンロードしたソースのメインディレクトリで、次のコマンドを実行します。
 </para>
 <programlisting>
<![CDATA[

$ phpunit tests/MongoSuite.php

]]>
 </programlisting>
 <para>
  テストに失敗したりエラーが発生したりした場合は、
  <link xlink:href="&url.mongodb.jira;">バグトラッカー</link>へのレポートをお願いします。
  いくつかのテストがスキップされることがありますが、
  これは通常の動作であり無視してもかまいません。
 </para>
 <para>
  新しいテストの提供も歓迎します!
  型のテスト、機能のテストなど、新しいテストの提供を楽しみにしています。
 </para>
</section>
