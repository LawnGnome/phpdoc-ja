<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.1 $ -->
<!-- EN-Revision: 1.3 Maintainer: takagi Status: ready -->

<section xml:id="mongo.installation" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.install;
 <!-- There are various PECL related entities in language-snippets.ent -->
 <para>
  ソースは次のように取得します。
  <screen>
   $ cvs -d :pserver:cvsread@cvs.php.net:/repository checkout pecl/mongo
   # パスワード: phpfi
  </screen>
 </para>

 <para>
  ビルドするには次のようにします。
  <screen>
   $ cd pecl/mongo
   $ ./configure --enable-mongo
   $ make
  </screen>
  <table>
   <title>configure で使用するオプション</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>オプション</entry>
      <entry>デフォルト</entry>
      <entry>説明</entry>
     </row>
    </thead>
    <tbody>
      <row>
       <entry>--with-mongodb=/path/to/mongodb</entry>
       <entry>/usr/local</entry>
       <entry>ローカルにインストールされた mongodb へのパス</entry>
      </row>
      <row>
       <entry>--with-boost=/path/to/boost/libs</entry>
       <entry>/usr/lib/</entry>
       <entry>boost ライブラリへのパス</entry>
      </row>
      <row>
       <entry>--enable-64</entry>
       <entry>no</entry>
       <entry>64 ビットアーキテクチャ用にコンパイル</entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </para>

 <para>
  Mac OS X ユーザ向けの注意:
  ウェブ共有では 64 ビットの PHP を使用しますが、コマンドラインでは 32 ビットの PHP を使用しています。
  したがって、Apache 用の PHP 拡張モジュールを作るには、コマンドライン版の PHP に --enable-64
  を指定しなければなりません。
 </para>

 <para>
  インストール方法はこのようになります。
  <screen>
   $ sudo cp modules/mongo.so /path/to/extension_dir
   $ sudo cp src/php/* /path/to/php/includes/mongo/
  </screen>
 </para>

 <para>
  php.ini の設定:
  この拡張モジュールを起動時に有効にするには、次の行を追加します。
  <screen>
   extension=mongo.so
  </screen>

  また、デフォルト設定をいくつか追加しなければなりません。
  <screen>
   [mongo]
   ; Default host for mongo connection
   mongo.default_host = localhost
   
   ; Default port for mongo database
   mongo.default_port = 27017
   
   ; If the driver should reconnect to mongo
   mongo.auto_reconnect = true
  </screen>
 </para>
</section>


<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
