<?xml version="1.0" encoding="utf-8"?>
 <appendix id="incompat">
  <title>非互換性</title>

  <sect1 id="incompat.php4">
   <title>PHP 3 から PHP 4 への非互換性</title>
   <itemizedlist>
    <listitem>
     <simpara>
      静的な変数とクラスメンバはスカラー値でのみ初期化が可能です。
      (PHP 3.0では、全ての有効な式が指定可能でした。) 簡単な静的な値以
      外の物が意味を指定した初期化に意味があることはまれであるため、こ
      の影響は小さいでしょう。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      break と continue のスコープは、<function>include</function> で
      読み込まれたファイルまたは<function>eval</function> で評価された
      文字列でローカルな定義となります。この非互換性に関しては、通常影
      響はないでしょう。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      <function>require</function>で読み込まれたファイルかたのreturn
      命令は動作しなくなりました。PHP 3.0で動作させることは困難だった
      ため、影響はかなり小さいと思われません。この機能を使用したい場合、
      代わりに<function>include</function>を使用して下さい。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      <function>unset</function> はもう関数ではなく、命令です。これは、
      関数としてドキュメントに記載されたことがないため、おそらく影響は
      ないものと思われます。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      次の文字の組み合わせ "{$" は、括られた文字列の中ではサポートされ
      ていません。例えば、 print "{$somevar"; (これは、PHP 3.0 では文
      字 { と変数 $somevarの内容を出力します)のようなこれらの文字の組
      み合わせを有する文字列を使用する場合、Zend ではパーサエラーにな
      ります。この場合、コードを print "\{$somevar"; に変更する必要が
      あります。この非互換性は、引用符で括られた文字列の中での変数リファ
      レンスのサポートがZendで追加されたためです。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      関数 <function>short_tags</function> はもう動作しません。設定パ
      ラメータ(.htaccess変数でも設定可能)以外でPHPの短縮タグに関する動
      作を実行時に変更することはできません。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      PHP 3の動的拡張モジュール(Windowsではphp3_*.dll)をPHP 4で使用す
      ることはできません。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      文字列 "0" は空文字列とみなされるようになりました。この変更は、
      phpMyAdminに影響を与えることが知られています。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      PHP 4では、<function>setcookie</function>を複数回コールした場合、
      コールした順番に実行されます。PHP 3では、逆順に実行されました。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      リファレンスがキーワード"global"を使用して作成された場合に、
      <function>unset</function> は、ローカルに宣言された変数と
      グローバルに宣言された変数の間の相関を破棄します。
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      連想配列のサブスクリプトは引用符で括られる必要があります。引用符
      で括らない場合、定数として評価されます。このため、引用符で括って
      いない配列サブスクリプトとして"&null;"のようなキーワードを使用した
      場合に予期できない結果を生じる可能性があります。
     </simpara>
    </listitem>
   </itemizedlist>
  </sect1>
  
 </appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
