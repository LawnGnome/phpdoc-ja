<?xml version="1.0" encoding="UTF-8"?>
<!-- $Revision: 1.5 $ -->
<!-- EN-Revision: 1.16 Maintainer: haruki Status: ready -->
<!-- CREDITS: takagi -->
   <sect1 xml:id="install.windows.apache2" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Apache 2.0.x （Microsoft Windows 用）</title>
    <para>
     このセクションでは、Microsoft Windows 上の Apache 2.0.x で PHP 
     を使用する場合について説明します。
     <link linkend="install.windows.apache1">Apache 1.3 で PHP を使用する場合</link>
     については別に記載されています。
    </para>
    <note>
     <para>
      まず始めに、<link linkend="install.windows.manual">マニュアルインストールの手順</link> 
      をお読みください。
     </para>
    </note>
    <note>
     <title>Apache 2.2.x のサポート</title>
     <para>
      Apache 2.2.x を利用しているかたも以下のドキュメントを使用できますが、
      DLL ファイルの名前を <filename>php5apache2_2.dll</filename>
      に読みかえてください。このファイルは PHP 5.2.0 以降にしか含まれません。
      <link xlink:href="&url.php.snapshots;">&url.php.snapshots;</link>
      も参照ください。
     </para>
    </note>
    
    &warn.apache2.compat;
    
    <para>
     <link xlink:href="&url.apache2.docs;">Apache ドキュメンテーション</link>
     を参照し、Apache 2.0.x の基本的な事項について理解しておくことを
     強く推奨します。また、以下の解説を読む前に、Apache 2.0.x に関する
     <link xlink:href="&url.apache2.windows;">Windows 固有の情報</link>
     についても参照すると良いでしょう。
    </para>
    
    &install.snippet.apache2.compat;

    <warning>
     <para>
      Apache 2.0.x は Windows NT 4.0, Windows 2000 および
      Windows XP で動作するように設計されています。現時点では、Windows 9x のサポートは
      不完全です。
     </para>
    </warning>
    <para>
     最新の <link xlink:href= "&url.apache;">Apache 2.0.x</link> と、対応する
     バージョンの PHP をダウンロードしてください。
     <link linkend="install.windows.manual">マニュアルインストールの手順</link>
     を実施したら、引き続き以下のとおり PHP と Apache の設定を行ってください。
    </para>
    <para>
     PHP を Windows 上の Apache 2.0.x で動作させるには、2種類の方法が
     あります。一つは、CGI バイナリを使用する方法、もう一つ
     は Apache モジュール DLL を使用する方法です。どちらの場合も 
     &httpd.conf; を編集して Apache が PHP を利用できるようにした後、
     Apache サーバを再起動する必要があります。
    </para>
    
    &note.apache.slashes;
    
    <sect2 xml:id="install.windows.apache2.cgi">
     <title>CGI バイナリの使用</title>
    
     <para>
      CGI 版のバイナリを使用する場合は、以下の行を Apache 設定ファイル
      &httpd.conf; へ追加してください。
      <example>
       <title>Apache 2.0 で CGI 版の PHP を使用する場合の設定</title>
        <programlisting role="apache-conf">
<![CDATA[
ScriptAlias /php/ "c:/php/"
AddType application/x-httpd-php .php

# PHP 4 の場合
Action application/x-httpd-php "/php/php.exe"

# PHP 5 の場合
Action application/x-httpd-php "/php/php-cgi.exe"
]]>
       </programlisting>
      </example>
     </para>
     &warn.install.cgi;
    </sect2>
    
    <sect2 xml:id="install.windows.apache2.module">
     <title>Apache モジュールの使用</title>
     <para>
      Apache 2.0 でモジュール版の PHP を使用するには、
      以下の行を Apache 設定ファイル &httpd.conf; に追加してください。
      <example>
       <title>Apache 2.0 でモジュール版の PHP を使用する場合の設定</title>
        <programlisting role="apache-conf">
<![CDATA[
# PHP 4 の場合
LoadModule php4_module "c:/php/php4apache2.dll"
# sapi ディレクトリから php4apache2.dll をコピーするのを忘れないこと!
AddType application/x-httpd-php .php

# PHP 5 の場合
LoadModule php5_module "c:/php/php5apache2.dll"
AddType application/x-httpd-php .php

# php.ini の場所を設定
PHPIniDir "C:/php"
]]>
       </programlisting>
      </example>
     </para>
     <note>
      <simpara>
       <filename>c:/php/</filename> は実際のパスにあわせて修正してください。
       LoadModule ディレクティブでは必ず <filename>php4apache2.dll</filename> または 
       <filename>php5apache2.dll</filename> を指定します。
       <filename>php4apache.dll</filename> および 
       <filename>php5apache.dll</filename> は <link linkend="install.windows.apache1">
       Apache 1.3.x</link> 用です。
      </simpara>
     </note>
     <note>
      <para>
       コンテントネゴシエーションを使用する場合は、
       <link linkend="faq.installation.apache.multiviews">関連の FAQ</link>
       を参照してください。
      </para>
     </note>
     <warning>
      <simpara>
       <emphasis>バージョンの異なる PHP</emphasis> の DLL ファイルを混ぜて使わないでください。
       DLL と PHP 拡張モジュールは、同一バージョンのファイルだけが
       組み合わせて使用可能です。
      </simpara>
     </warning>
    </sect2>
   </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
